(this["webpackJsonpdashboard-react"]=this["webpackJsonpdashboard-react"]||[]).push([[0],{116:function(e,t,r){e.exports={navbar:"Navbar_navbar__3HLis",leftNav:"Navbar_leftNav__2PhaL",filterIcon:"Navbar_filterIcon__2uWL6",aboutFilters:"Navbar_aboutFilters__2PpWf",generalTitle:"Navbar_generalTitle__3gamN"}},130:function(e,t,r){e.exports={graphs:"Widgets_graphs__2wkNx",secondMain:"Widgets_secondMain__1gbmS",headCircularBar:"Widgets_headCircularBar__r21vO"}},255:function(e,t,r){},258:function(e,t,r){e.exports={preloader:"Preloader_preloader__XuNDS"}},287:function(e,t,r){e.exports={graphs:"CircularBar_graphs__1KmeL"}},288:function(e,t,r){e.exports={filters:"Filters_filters__C8k_3"}},291:function(e,t,r){e.exports={fetchError:"FetchError_fetchError__3Y41Q"}},311:function(e,t,r){},41:function(e,t,r){e.exports={kpkTable:"KPKTable_kpkTable__3CCKs",cell:"KPKTable_cell__2I1Ye",tableContainer:"KPKTable_tableContainer__10Mws",clickable:"KPKTable_clickable__5_7JQ",iconCheckBox:"KPKTable_iconCheckBox__BsSEa",tableHead:"KPKTable_tableHead__7uiHG",textAroundSwitcher:"KPKTable_textAroundSwitcher__3JdDD"}},500:function(e,t,r){"use strict";r.r(t);var i=r(0),n=r.n(i),a=r(20),o=r.n(a),c=(r(311),r(52)),s=r(255),l=r.n(s),d=r(97),p=r(98),u=r(99),h=r(108),g=r(40),j=r.n(g),O=r(109),b=r(18),f=r(114),m=r(317).default,v=m.create({baseURL:"http://localhost:4000/"}),x=function(e,t,r,i){return v.get("kpk").then((function(e){return e.data})).catch((function(){}))},k=function(e,t,r,i,n,a){return m.all([].concat(Object(f.a)(i.map((function(e){return v.get("sc/".concat(e)).catch((function(){}))}))),Object(f.a)(n.map((function(e){return v.get("today/".concat(e)).catch((function(){}))}))),Object(f.a)(a.map((function(e){return v.get("top/".concat(e)).catch((function(){}))}))),[v.get("kpk").catch((function(){}))])).then((function(e){return e.map((function(e){return e?e.data:e}))}))},y=function(){return v.get("sprav_org_all").then((function(e){return e.data}))},S=r(29),F=function(e){for(var t=[],r=0;r<e.data.length;r++){for(var i={},n=0;n<e.name_col.length;n++)if(0===n)i[e.name_col[n]]=e.data[r][n];else{"number"===typeof e.data[r][n]&&(e.data[r][n]+="");var a=e.data[r][n].replace(/,/,".");i[e.name_col[n]]=+a&&+a%1?(+a).toFixed(2):+a?+a:a}t.push(i)}return{cols:e.name_col,rows:t}},C=function(e){if(!e)return[];for(var t in e)if(e[t]){var r=e[t];for(var i in r.data)r.data.hasOwnProperty(i)&&r.data[i].p<=1&&(r.data[i].p=+(100*r.data[i].p).toFixed(2))}else e[t]={title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435",data:[]};return e},_=function(e){for(var t in e)!e.hasOwnProperty(t)||null!==e[t].v1&&null!==e[t].p?e[t].p<=1&&(e[t].p=+(100*e[t].p).toFixed(1)):e[t]={title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435",v1:0,p:0,err:!0};return e},T=function(e){var t;if(!e||!e[0]||281586771165316!==(null===(t=e[0])||void 0===t?void 0:t.oid))return{};for(var r=new Map(e.map((function(e,t){return[e.oid,t]}))),i=new Map([["281586771165316","\u041e\u041e\u041e \u041e\u0421\u041a \u0418\u043d\u0444\u043e\u0422\u0440\u0430\u043d\u0441"]]),n=e.length-1;n>0;n--){i.set(e[n].oid+"",e[n].name);var a=r.get(e[n].parent);e[a].children||(e[a].children=[]),e[a].children=[].concat(Object(f.a)(e[a].children),[e[n]])}var o,c=Object(S.a)(e);try{for(c.s();!(o=c.n()).done;){var s=o.value;s.oid+="",s.parent+=""}}catch(j){c.e(j)}finally{c.f()}var l,d=Object(S.a)(e);try{for(d.s();!(l=d.n()).done;){var p,u=l.value;(null===u||void 0===u||null===(p=u.children)||void 0===p?void 0:p.length)&&u.children.sort((function(e,t){return e.name>t.name?1:-1}))}}catch(j){d.e(j)}finally{d.f()}for(var h=JSON.parse(JSON.stringify(e[0])),g=h.children.length-1;h.name&&g>=0;g--)h.children[g].zno||h.children.splice(g,1);return{orgList:e,altOrgList:h,orgMapList:i}},N={kpk:{},kpkChild:{},sc:[],tops:[],todays:[],isFetchingWidgets:!0},w="SET_KPK",L="SET_KPK_CHILD",K="SET_SC",I="SET_TODAY",M="SET_TOPS",A="SET_IS_FETCHING_WIDGETS_STARTED",E="SET_IS_FETCHING_WIDGETS_ENDED",P="REMOVE_KPK_CHILD",W=function(e){return{type:w,kpk:e}},D=function(e){return{type:K,sc:e}},B=function(e){return{type:M,tops:e}},G=function(e){return{type:I,todays:e}},q=function(){return{type:A}},Q=function(){return{type:E}},R=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,2,3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,2,3],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,2];return function(){var o=Object(O.a)(j.a.mark((function o(c){var s;return j.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c(q()),o.next=3,k(e,t,r,i,n,a);case 3:s=o.sent,c(D(s.splice(0,i.length))),c(G(s.splice(0,n.length))),c(B(s.splice(0,a.length))),c(W(s.pop())),c(Q());case 9:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:var r=t.kpk?F(t.kpk):{cols:["\u0421\u0435\u0440\u0432\u0438\u0441_oid","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435"],rows:[]};return Object(b.a)(Object(b.a)({},e),{},{kpk:r});case L:var i=t.kpkChild?F(t.kpkChild):{cols:["\u0421\u0435\u0440\u0432\u0438\u0441_oid","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435"],rows:[]};return Object(b.a)(Object(b.a)({},e),{},{kpkChild:i});case K:return t.sc.length?Object(b.a)(Object(b.a)({},e),{},{sc:C(t.sc)}):e;case M:return t.tops.length?Object(b.a)(Object(b.a)({},e),{},{tops:C(t.tops)}):e;case I:return t.todays.length?Object(b.a)(Object(b.a)({},e),{},{todays:_(t.todays)}):e;case A:return Object(b.a)(Object(b.a)({},e),{},{isFetchingWidgets:!0});case E:return Object(b.a)(Object(b.a)({},e),{},{isFetchingWidgets:!1});case P:return Object(b.a)(Object(b.a)({},e),{},{kpkChild:{}});default:return e}},Y=function(e){return e.widgets.kpk},J=function(e){return e.widgets.kpkChild},U=function(e){return e.widgets.sc},V=function(e){return e.widgets.tops},Z=function(e){return e.widgets.todays},z=function(e){return e.widgets.isFetchingWidgets},X=function(e){return e.filters.orgList},$=function(e){return e.filters.isFetchingFilters},ee=function(e){return e.filters.orgOid},te=function(e){return e.filters.perList},re=function(e){return e.filters.period},ie=function(e){return e.filters.periodType},ne=function(e){return e.filters.showFilters},ae=function(e){return e.filters.orgMapList},oe=function(e){return e.filters.periodNameMapList},ce=function(e){return e.filters.altOrgList},se=r(130),le=r.n(se),de=r(24),pe=r(533),ue=r(537),he=r(536),ge=r(531),je=r(534),Oe=r(535),be=r(532),fe=r(41),me=r.n(fe),ve=r(266),xe=r.n(ve),ke=r(258),ye=r.n(ke),Se=r(3),Fe=function(){return Object(Se.jsx)("div",{className:ye.a.preloader,children:"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})},Ce=r(265),_e=r.n(Ce),Te=r(264),Ne=r.n(Te),we=r(259),Le=r.n(we),Ke=function(e){var t=e.hidden,r=e.requestSetHiddenUnusedKPK,i=Le()((function(){return{toggle:{"& .Mui-checked + .MuiSwitch-track":{backgroundColor:"#52d869"}}}}))();return Object(Se.jsx)("span",{className:me.a.clickable,children:Object(Se.jsx)(Ne.a,{control:Object(Se.jsx)(_e.a,{size:"medium",checked:t,onChange:function(){return r()},color:"default",className:i.toggle}),labelPlacement:"start",label:Object(Se.jsx)("span",{className:"".concat(me.a.textAroundSwitcher," ").concat(me.a.tableHead),children:"\u0412\u0441\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 / \u0423\u0441\u043b\u0443\u0433\u0438 \u0441 \u0417\u041d\u041e"})})})},Ie=function(e){var t=e.requestKPKChild,r=e.removeKPKChild,i=e.orgOid,a=e.period,o=e.periodType,c=e.kpk,s=n.a.useState("1"===localStorage.getItem("KPKRowHidden")||!1),l=Object(de.a)(s,2),d=l[0],p=l[1],u=c.cols,h=c.rows;if(!u.length)return Object(Se.jsx)(Fe,{});var g=Object(de.a)(u,3),j=g[0],O=g[1],b=g[2];return Object(Se.jsx)("div",{className:me.a.kpkTable,children:Object(Se.jsx)(ge.a,{component:be.a,className:me.a.tableContainer,children:Object(Se.jsxs)(pe.a,{size:"small",stickyHeader:!0,"aria-label":"a dense table",children:[Object(Se.jsx)(je.a,{children:Object(Se.jsxs)(Oe.a,{children:[Object(Se.jsx)(he.a,{className:me.a.cell,children:Object(Se.jsxs)("div",{className:me.a.tableHead,children:["\u0423\u0441\u043b\u0443\u0433\u0430"===O||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435"===O?Object(Se.jsx)("span",{children:O}):Object(Se.jsxs)("span",{className:me.a.tableHead,children:[Object(Se.jsx)(xe.a,{fontSize:"small",onClick:r}),O]}),Object(Se.jsx)(Ke,{hidden:d,requestSetHiddenUnusedKPK:function(){localStorage.setItem("KPKRowHidden",d?"0":"1"),p(!d)}})]})}),Object(Se.jsx)(he.a,{align:"right",className:me.a.cell,children:b})]})}),Object(Se.jsx)(ue.a,{children:h.map((function(e){return Object(Se.jsxs)(Oe.a,{style:"-"===e[b]&&d?{display:"none"}:{},className:"-"!==e[b]&&"\u0423\u0441\u043b\u0443\u0433\u0430"===O?me.a.clickable:"",onClick:"-"!==e[b]&&"\u0423\u0441\u043b\u0443\u0433\u0430"===O?function(){t(i,a,o,e[j])}:function(){},children:[Object(Se.jsx)(he.a,{component:"th",scope:"row",className:me.a.cell,children:e[O]}),Object(Se.jsx)(he.a,{align:"right",className:me.a.cell,children:e[b]})]},e[j])}))})]})})})},Me=r(78),Ae=r.n(Me),Ee=r(538),Pe=r(549),We=r(285),De=r(286),Be=r(132),Ge=r(542),qe=r(283),Qe=r(129),Re=r(267),He=r.n(Re),Ye=r(268),Je=r.n(Ye),Ue=function(e){var t=e.description,r=e.hidden,i=e.hideLineClick,n=e.line;return""===t?"":Object(Se.jsxs)("h3",{className:Ae.a.checkBoxGroup,onClick:function(){return i(n)},children:[t," ",r?Object(Se.jsx)(Je.a,{className:Ae.a.iconCheckBox,color:"action",fontSize:"small"}):Object(Se.jsx)(He.a,{className:Ae.a.iconCheckBox,color:"action",fontSize:"small"})]})},Ve=function(e){var t,r,i=e.sc,a=e.extendedStyle,o=void 0===a?{}:a,c=i.title,s=i.data,l=(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.length)&&i.data[0].v1,d=(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.length)&&!i.data[0].p,p=n.a.useState("1"===localStorage.getItem("hiddenValSC-".concat(c))||!1),u=Object(de.a)(p,2),h=u[0],g=u[1],j=n.a.useState("1"===localStorage.getItem("hiddenProcSC-".concat(c))||!1),O=Object(de.a)(j,2),b=O[0],f=O[1],m=function(e){"v1"===e&&(localStorage.setItem("hiddenValSC-".concat(c),h?"0":"1"),g(!h)),"p"===e&&(localStorage.setItem("hiddenProcSC-".concat(c),b?"0":"1"),f(!b))};return Object(Se.jsx)("div",{className:Ae.a.graphs,style:o,children:Object(Se.jsx)(Ee.a,{children:Object(Se.jsxs)(Pe.a,{data:s,margin:{top:-10},children:[Object(Se.jsx)(We.a,{dataKey:"d"}),Object(Se.jsx)(De.a,{style:h?{display:"none"}:{},yAxisId:"left",domain:["dataMin","dataMax"],tickCount:5,stroke:"#8884d8"}),Object(Se.jsx)(De.a,{style:b?{display:"none"}:{},tickFormatter:function(e){return"".concat(Math.round(10*e)/10)},yAxisId:"right",orientation:"right",tickCount:5,axisLine:!1,domain:["dataMin","dataMax"],stroke:"#82ca9d"}),Object(Se.jsx)(Be.a,{formatter:function(e,t){return["".concat(e).concat("p"===t?" %":" \u0448\u0442")]}}),Object(Se.jsx)(Ge.a,{strokeDasharray:"3 3"}),Object(Se.jsx)(qe.a,{style:h?{display:"none"}:{},yAxisId:"left",type:"monotone",dataKey:"v1",stroke:"#8884d8",strokeWidth:3}),Object(Se.jsx)(qe.a,{style:b?{display:"none"}:{},yAxisId:"right",type:"monotone",dataKey:"p",stroke:"#82ca9d",strokeWidth:3}),Object(Se.jsx)(Qe.a,{iconSize:0,verticalAlign:"top",formatter:function(e){return Object(Se.jsxs)("div",{className:Ae.a.headGraph,children:[Object(Se.jsxs)("h3",{className:"v1"===e?Ae.a.titleName:Ae.a.hiddenTitleName,children:[c,"\u2003"]}),"v1"===e?Object(Se.jsx)(Ue,{description:l||void 0!==(l&&d)?"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435":"",hidden:h,line:e,hideLineClick:m}):Object(Se.jsx)(Ue,{description:d||void 0!==(l&&d)?"%":"",hidden:b,line:e,hideLineClick:m})]})}})]})})})},Ze=r(287),ze=r.n(Ze),Xe=r(195),$e=(r(499),function(e){var t=e.today,r=e.diff,i=e.err;return Object(Se.jsx)("div",{className:ze.a.graphs,children:Object(Se.jsxs)(Xe.a,{value:r,styles:Object(Xe.b)({pathColor:"rgb(136, 132, 216)"}),children:[!i&&Object(Se.jsx)("h4",{children:t}),Object(Se.jsxs)("strong",{children:[r,"%"]})]})})}),et=function(e){var t=e.kpk,r=e.sc,i=e.isFetchingWidgets,n=e.requestKPKChild,a=e.removeKPKChild,o=e.orgOid,c=e.period,s=e.periodType,l=e.kpkChild,d=e.todays,p=e.tops;return i?Object(Se.jsx)(Fe,{}):Object(Se.jsxs)("div",{children:[Object(Se.jsxs)("main",{children:[Object(Se.jsx)(Ie,{kpk:l.hasOwnProperty("rows")?l:t,requestKPKChild:n,removeKPKChild:a,orgOid:o,period:c,periodType:s}),Object(Se.jsxs)("div",{className:le.a.graphs,children:[Object(Se.jsx)("h4",{className:le.a.headCircularBar,children:"\u0421\u0415\u0413\u041e\u0414\u041d\u042f"}),d.map((function(e,t){return Object(Se.jsx)($e,{title:e.title,today:e.v1,diff:e.p,err:e.err},t)}))]}),Object(Se.jsx)("div",{className:le.a.graphs,children:r.map((function(e,t){return Object(Se.jsx)(Ve,{sc:e},t)}))})]}),Object(Se.jsx)("div",{className:"".concat(le.a.secondMain),children:p.map((function(e,t){return Object(Se.jsx)(Ve,{sc:e,extendedStyle:{height:"100%"}},t)}))})]})},tt=function(e){Object(u.a)(r,e);var t=Object(h.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"componentDidMount",value:function(){this.props.requestWidgets(this.props.orgOid,this.props.period,this.props.periodType)}},{key:"render",value:function(){return Object(Se.jsx)(et,{kpk:this.props.kpk,sc:this.props.sc,todays:this.props.todays,tops:this.props.tops,isFetchingWidgets:this.props.isFetchingWidgets,orgOid:this.props.orgOid,period:this.props.period,periodType:this.props.periodType,kpkChild:this.props.kpkChild,requestKPKChild:this.props.requestKPKChild,removeKPKChild:this.props.removeKPKChild})}}]),r}(i.Component),rt=Object(c.b)((function(e){return{kpk:Y(e),kpkChild:J(e),sc:U(e),tops:V(e),todays:Z(e),isFetchingWidgets:z(e),orgOid:ee(e),period:re(e),periodType:ie(e)}}),{requestWidgets:R,requestKPKChild:function(e,t,r,i){return function(){var n=Object(O.a)(j.a.mark((function n(a){var o;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x(e,t,r,i);case 2:o=n.sent,a({type:L,kpkChild:o});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},removeKPKChild:function(){return{type:P}}})(tt),it=r(288),nt=r.n(it),at=r(544),ot=r(547),ct=r(543),st=r(546),lt=r(551),dt=r(289),pt=r.n(dt),ut=r(290),ht=r.n(ut),gt=r(552),jt=r(545),Ot=function(e){var t=e.treeList,r=e.title,i=e.orgOid,a=e.period,o=e.periodType,c=e.setter,s=e.acceptFilters,l=e.altTreeList,d=void 0===l?{}:l,p=e.isFetchingWidgets,u=n.a.useState(null),h=Object(de.a)(u,2),g=h[0],j=h[1],O=n.a.useState(""),b=Object(de.a)(O,2),f=b[0],m=b[1],v=n.a.useState("1"===localStorage.getItem("checkedOrgZNO")||!1),x=Object(de.a)(v,2),k=x[0],y=x[1],S=Object(ct.a)({root:{margin:".5rem",height:"\u043e\u0440\u0433\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430"===r?400:200,flexGrow:1,width:"\u043e\u0440\u0433\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430"===r?550:200,overflow:"auto"},menu:{margin:"".concat("\u043e\u0440\u0433\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430"===r?"4vh":"9vh"," ").concat("\u043e\u0440\u0433\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430"===r?"6vw":"4vw")},toggle:{"& .Mui-checked + .MuiSwitch-track":{backgroundColor:"#52d869"}}})(),F=function e(t){return Object(Se.jsx)(lt.a,{nodeId:t.oid,label:t.name,children:Array.isArray(t.children)?t.children.map((function(t){return e(t)})):null},t.oid)};return Object(Se.jsxs)("div",{children:[Object(Se.jsx)(at.a,{"aria-controls":"simple-menu",variant:"outlined",onClick:function(e){j(e.currentTarget)},disabled:p,children:r}),Object(Se.jsxs)(ot.a,{className:S.menu,id:"simple-menu",anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:function(){j(null),f&&"object"!==typeof f&&c(f),(f&&"\u043e\u0440\u0433\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430"===r&&f!==i||f&&"\u043f\u0435\u0440\u0438\u043e\u0434"===r&&f!=="".concat(o,":").concat(a))&&s(r,f)},children:["\u043e\u0440\u0433\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430"===r&&Object(Se.jsx)(jt.a,{control:Object(Se.jsx)(gt.a,{size:"medium",checked:k,onChange:function(){localStorage.setItem("checkedOrgZNO",k?"0":"1"),y(!k)},color:"default",className:S.toggle}),labelPlacement:"start",label:"\u0412\u0441\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 / \u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0438\u0435 \u0417\u041d\u041e"}),Object(Se.jsx)(st.a,{className:S.root,defaultCollapseIcon:Object(Se.jsx)(pt.a,{}),defaultExpanded:"\u043e\u0440\u0433\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430"===r?[t.oid]:["root"],defaultExpandIcon:Object(Se.jsx)(ht.a,{}),onNodeSelect:function(e,t){m(t)},children:F("\u043e\u0440\u0433\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430"===r&&k?d:t)})]})]})},bt=r(291),ft=r.n(bt),mt=function(){return Object(Se.jsx)("div",{className:ft.a.fetchError,children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445..."})},vt=function(e){var t=e.orgList,r=e.altOrgList,i=e.isFetchingFilters,n=e.isFetchingWidgets,a=e.orgOid,o=e.requestWidgetsFromFilters,c=e.setPeriod,s=e.setOrgOid,l=e.perList,d=e.period,p=e.periodType,u=e.requestSetFiltersDefault;if(!e.showFilters)return Object(Se.jsx)(Se.Fragment,{});if(i)return Object(Se.jsx)(Fe,{});var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"def",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="\u043f\u0435\u0440\u0438\u043e\u0434"===e?t.split(":"):["",""],i=Object(de.a)(r,2),n=i[0],c=i[1];o("\u043e\u0440\u0433\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430"===e?t:a,"\u043f\u0435\u0440\u0438\u043e\u0434"===e?c:d,"\u043f\u0435\u0440\u0438\u043e\u0434"===e?n:p)};return Object(Se.jsxs)("div",{className:nt.a.filters,children:[t&&t.oid?Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(Ot,{treeList:t,altTreeList:r,title:"\u043e\u0440\u0433\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430",setter:s,orgOid:a,period:d,periodType:p,acceptFilters:h,isFetchingWidgets:n}),Object(Se.jsx)(Ot,{treeList:l,title:"\u043f\u0435\u0440\u0438\u043e\u0434",orgOid:a,setter:c,period:d,periodType:p,acceptFilters:h,isFetchingWidgets:n})]}):Object(Se.jsx)(mt,{}),Object(Se.jsx)(at.a,{variant:"outlined",onClick:u,disabled:n,children:"\u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})]})},xt=new Map,kt={orgOid:"281586771165316",orgName:"\u041e\u041e\u041e \u041e\u0421\u041a \u0418\u043d\u0444\u043e\u0422\u0440\u0430\u043d\u0441",period:"".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()-1<10?"0".concat((new Date).getMonth()+1):(new Date).getMonth()+1),periodType:"m"},yt={orgList:{},altOrgList:{},orgMapList:new Map,periodNameMapList:xt,perList:function(e,t){for(var r=function(e){return Math.floor((e+3)/3)},i=function(e){for(var t=[],r=3*e-3;r<=3*e-1;r++)t.push(r);return t},n=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],a=function(e,t){for(e=e.toString();e.length<t;)e="0"+e;return e},o=function(e,t,r){return{name:e,oid:t,children:r}},c=new Date(e),s=new Date(t),l=o("\u041f\u0435\u0440\u0438\u043e\u0434","root",[]),d=c.getFullYear();d<=s.getFullYear();d++){var p=o(d+" \u0433\u043e\u0434","y:".concat(d,"-01"),[]);xt.set("y:".concat(d,"-01"),"".concat(d," \u0433\u043e\u0434"));for(var u=c.getFullYear()===d?Math.max(1,r(c.getMonth())):1,h=s.getFullYear()===d?Math.min(4,r(s.getMonth())):4,g=u;g<=h;g++){var j=o(g+" \u043a\u0432\u0430\u0440\u0442\u0430\u043b","q:".concat(d,"-0").concat(g),[]);xt.set("q:".concat(d,"-0").concat(g),"".concat(d," \u0433\u043e\u0434 - ").concat(g," \u043a\u0432\u0430\u0440\u0442\u0430\u043b"));for(var O=i(g),b=c.getFullYear()===d&&g===u?Math.max(O[0],c.getMonth()):O[0],f=s.getFullYear()===d&&g===h?Math.min(O[O.length-1],s.getMonth()):O[O.length-1],m=b;m<=f;m++){var v=o(n[m],"m:".concat(d,"-").concat(a(m+1,2)),[]);xt.set("m:".concat(d,"-").concat(a(m+1,2)),"".concat(d," \u0433\u043e\u0434 - ").concat(n[m])),j.children.push(v)}p.children.push(j)}l.children.push(p)}return l}(new Date(2020,0,1),Date.now()),isFetchingFilters:!0,orgOid:localStorage.getItem("orgOid")||kt.orgOid,orgName:localStorage.getItem("orgName")||kt.orgName,period:localStorage.getItem("period")||kt.period,periodType:localStorage.getItem("periodType")||kt.periodType,showFilters:"true"===localStorage.getItem("showFilters")},St="SET_ORG_LIST",Ft="SET_PERIOD",Ct="SET_ORG_OID",_t="SET_ORG_NAME",Tt="SET_FILTERS_DEFAULT",Nt="SET_SHOW_FILTERS",wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case St:var r=T(t.orgList.data),i=r.orgList,n=r.altOrgList,a=r.orgMapList;return i&&n&&a?Object(b.a)(Object(b.a)({},e),{},{orgList:i[0],altOrgList:n,orgMapList:a,isFetchingFilters:!1}):Object(b.a)(Object(b.a)({},e),{},{isFetchingFilters:!1});case Ft:var o=t.per.split(":"),c=Object(de.a)(o,2),s=c[0],l=c[1];return"root"===s?e:(localStorage.setItem("periodType",s),localStorage.setItem("period",l),Object(b.a)(Object(b.a)({},e),{},{periodType:s,period:l}));case Ct:return localStorage.setItem("orgOid",t.oid),t.oid?Object(b.a)(Object(b.a)({},e),{},{orgOid:t.oid}):e;case _t:var d=e.orgMapList.get(t.oid);return void 0!==d&&localStorage.setItem("orgName",d),d?Object(b.a)(Object(b.a)({},e),{},{orgName:d}):e;case Tt:return localStorage.removeItem("orgOid"),localStorage.removeItem("periodType"),localStorage.removeItem("period"),localStorage.removeItem("orgName"),Object(b.a)(Object(b.a)({},e),{},{orgOid:kt.orgOid,period:kt.period,periodType:kt.periodType});case Nt:return localStorage.setItem("showFilters",String(!e.showFilters)),e.showFilters?Object(b.a)(Object(b.a)({},e),{},{showFilters:!1}):Object(b.a)(Object(b.a)({},e),{},{showFilters:!0});default:return e}},Lt=function(e){Object(u.a)(r,e);var t=Object(h.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"componentDidMount",value:function(){this.props.orgList.oid||this.props.requestOrg()}},{key:"render",value:function(){return Object(Se.jsx)(vt,{orgList:this.props.orgList,altOrgList:this.props.altOrgList,isFetchingFilters:this.props.isFetchingFilters,isFetchingWidgets:this.props.isFetchingWidgets,orgOid:this.props.orgOid,perList:this.props.perList,period:this.props.period,periodType:this.props.periodType,showFilters:this.props.showFilters,requestWidgetsFromFilters:this.props.requestWidgetsFromFilters,setPeriod:this.props.setPeriod,setOrgOid:this.props.setOrgOid,requestSetFiltersDefault:this.props.requestSetFiltersDefault})}}]),r}(i.Component),Kt=Object(c.b)((function(e){return{orgList:X(e),altOrgList:ce(e),isFetchingFilters:$(e),isFetchingWidgets:z(e),orgOid:ee(e),perList:te(e),period:re(e),periodType:ie(e),showFilters:ne(e)}}),{requestOrg:function(){return function(){var e=Object(O.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:r=e.sent,t({type:St,orgList:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},requestWidgetsFromFilters:function(e,t,r){return function(i){i(R(e,t,r)),i(function(e){return{type:_t,oid:e}}(e))}},setPeriod:function(e){return{type:Ft,per:e}},setOrgOid:function(e){return{type:Ct,oid:e}},requestSetFiltersDefault:function(){return function(){var e=Object(O.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(R(kt.orgOid,kt.period,kt.periodType)),t({type:Tt});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Lt),It=r(116),Mt=r.n(It),At=r(220),Et=r(550),Pt=r(292),Wt=r.n(Pt),Dt=["\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 (\u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0434\u0430\u0448\u0431\u043e\u0440\u0434)","\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432","\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f"],Bt=function(e){e.showFilters;var t=e.setShowFilters,r=e.orgOid,i=e.period,a=e.periodType,o=e.orgMapList,c=e.periodNameMapList,s=e.isFetchingFilters,l=n.a.useState(null),d=Object(de.a)(l,2),p=d[0],u=d[1],h=Boolean(p),g=function(){u(null)},j=o.get(r)?o.get(r).replace(/\u0420\u0435\u0433\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0446\u0435\u043d\u0442\u0440 \u0441\u0435\u0440\u0432\u0438\u0441\u0430/,"\u0420\u0426\u0421").replace(/\u0422\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438/,"\u0422\u0423\u0422\u041f").replace(/\u041e\u0442\u0434\u0435\u043b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439/,"\u041e\u0422\u041f").replace(/\u041e\u0442\u0434\u0435\u043b \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438/,"\u041e\u0422\u041f"):localStorage.getItem("orgName");return Object(Se.jsxs)("div",{className:Mt.a.navbar,children:[Object(Se.jsxs)("div",{className:Mt.a.leftNav,children:[Object(Se.jsx)("img",{src:"data:image/png;base64,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",loading:"lazy",alt:""}),Object(Se.jsx)("div",{className:"material-icons ".concat(Mt.a.filterIcon),onClick:function(){t()},children:"filter_alt"}),s?Object(Se.jsx)(Fe,{}):Object(Se.jsxs)("div",{className:Mt.a.aboutFilters,children:[Object(Se.jsxs)("p",{children:["\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f: ",j]}),Object(Se.jsxs)("p",{children:["\u041f\u0435\u0440\u0438\u043e\u0434: ",c.get("".concat(a,":").concat(i))]})]})]}),Object(Se.jsx)("div",{className:Mt.a.generalTitle,children:Object(Se.jsx)("h1",{children:"\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438"})}),Object(Se.jsxs)("div",{children:[Object(Se.jsx)("span",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),Object(Se.jsx)(At.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},children:Object(Se.jsx)(Wt.a,{})}),Object(Se.jsx)(ot.a,{id:"long-menu",anchorEl:p,keepMounted:!0,open:h,onClose:g,children:Dt.map((function(e){return Object(Se.jsx)(Et.a,{selected:"Pyxis"===e,onClick:g,children:e},e)}))})]})]})},Gt=function(e){Object(u.a)(r,e);var t=Object(h.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(Se.jsx)(Bt,{showFilters:this.props.showFilters,orgOid:this.props.orgOid,period:this.props.period,periodType:this.props.periodType,orgMapList:this.props.orgMapList,periodNameMapList:this.props.periodNameMapList,isFetchingFilters:this.props.isFetchingFilters,setShowFilters:this.props.setShowFilters})}}]),r}(n.a.Component),qt=Object(c.b)((function(e){return{showFilters:ne(e),orgOid:ee(e),period:re(e),periodType:ie(e),orgMapList:ae(e),periodNameMapList:oe(e),isFetchingFilters:$(e)}}),{setShowFilters:function(){return{type:Nt}}})(Gt);var Qt=function(){return Object(Se.jsxs)("div",{className:l.a.container,children:[Object(Se.jsxs)("header",{children:[Object(Se.jsx)(qt,{}),Object(Se.jsx)(Kt,{})]}),Object(Se.jsx)(rt,{})]})},Rt=Object(c.b)((function(){return{}}),{})(Qt),Ht=r(82),Yt=r(293),Jt=r(294),Ut=Object(Ht.combineReducers)({filters:wt,widgets:H}),Vt=Object(Ht.createStore)(Ut,Object(Jt.composeWithDevTools)(Object(Ht.applyMiddleware)(Yt.a)));o.a.render(Object(Se.jsx)(n.a.StrictMode,{children:Object(Se.jsx)(c.a,{store:Vt,children:Object(Se.jsx)(Rt,{})})}),document.getElementById("root"))},78:function(e,t,r){e.exports={graphs:"Graph_graphs__cAuHG",titleName:"Graph_titleName__3vPWd",hiddenTitleName:"Graph_hiddenTitleName__tKCoA",checkBoxGroup:"Graph_checkBoxGroup__2rwu3",iconCheckBox:"Graph_iconCheckBox__2CpIC",headGraph:"Graph_headGraph__BS1eJ",hiddenIDontNowHowDoItElse:"Graph_hiddenIDontNowHowDoItElse__2Ay3o"}}},[[500,1,2]]]);
//# sourceMappingURL=main.ba7d5d11.chunk.js.map