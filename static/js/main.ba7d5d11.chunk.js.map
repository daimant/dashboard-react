{"version":3,"sources":["Components/Navbar/Navbar.module.scss","Components/Widgets/Widgets.module.scss","Components/Common/Preloader/Preloader.module.scss","Components/Widgets/CircularBar/CircularBar.module.scss","Components/Filters/Filters.module.scss","Components/Common/FetchError/FetchError.module.scss","Components/Widgets/KPKTable/KPKTable.module.scss","API/API.ts","Components/Redux/pipes.ts","Components/Redux/widgets-reducer.ts","Components/Redux/selectors.ts","Components/Common/Preloader/Preloader.tsx","Components/Widgets/KPKTable/KPKTable.tsx","Components/Widgets/Graph/Graph.tsx","Components/Widgets/CircularBar/CircularBar.tsx","Components/Widgets/Widgets.tsx","Components/Widgets/WidgetsContainer.tsx","Components/Filters/Filter-components/MenuTreeList/MenuTreeList.tsx","Components/Common/FetchError/FetchError.tsx","Components/Filters/Filters.tsx","Components/Redux/filters-reducer.ts","Components/Filters/FiltersContainer.tsx","Components/Navbar/Navbar.tsx","Assets/img/osk_rzd_logo.png","Components/Navbar/NavbarContainer.tsx","App.tsx","AppContainer.ts","Components/Redux/store.tsx","index.tsx","Components/Widgets/Graph/Graph.module.scss"],"names":["module","exports","axios","require","default","instance","create","baseURL","widgetsAPI","oid","period","period_type","serviceOid","get","then","response","data","catch","numSC","numTodays","numTops","all","map","num","res","filtersAPI","PipeKPK","kpk","parsedKPK","i","length","currObj","j","name_col","currVal","replace","toFixed","push","cols","rows","PipeGraph","graphs","graph","hasOwnProperty","title","PipeTodays","todays","v1","p","err","PipeOrgList","orgList","orgPosition","Map","el","orgMapList","set","name","parentInList","parent","org","children","sort","a","b","altOrgList","JSON","parse","stringify","zno","splice","initialStateWidgets","kpkChild","sc","tops","isFetchingWidgets","SET_KPK","SET_KPK_CHILD","SET_SC","SET_TODAY","SET_TOPS","SET_IS_FETCHING_WIDGETS_STARTED","SET_IS_FETCHING_WIDGETS_ENDED","REMOVE_KPK_CHILD","setKPK","type","setSC","setTops","setTodays","setIsFetchingWidgetsStarted","setIsFetchingWidgetsEnded","requestWidgets","periodType","dispatch","pop","widgetsReducer","state","action","selectKPK","widgets","selectKPKChild","selectSC","selectTops","selectTodays","selectIsFetchingWidgets","selectOrgList","filters","selectIsFetchingFilters","isFetchingFilters","selectOrgOid","orgOid","selectPerList","perList","selectPeriod","selectPeriodType","selectShowFilters","showFilters","selectOrgMapList","selectPeriodNameMapList","periodNameMapList","selectAltOrgList","Preloader","className","classes","preloader","CheckedValueKPK","hidden","requestSetHiddenUnusedKPK","classesMUI","makeStyles","toggle","backgroundColor","useStyles","clickable","control","size","checked","onChange","color","labelPlacement","label","textAroundSwitcher","tableHead","KPKTable","requestKPKChild","removeKPKChild","React","useState","localStorage","getItem","hiddenUnusedKPK","setHiddenUnusedKPK","id","colsHead","value","kpkTable","TableContainer","component","Paper","tableContainer","Table","stickyHeader","aria-label","TableHead","TableRow","TableCell","cell","fontSize","onClick","setItem","align","TableBody","row","style","display","scope","CheckedValueGraph","description","hideLineClick","line","checkBoxGroup","iconCheckBox","Graph","extendedStyle","showValueLine","showPercentLine","hiddenVal","setHiddenVal","hiddenProc","setHiddenProc","ResponsiveContainer","ComposedChart","margin","top","XAxis","dataKey","YAxis","yAxisId","domain","tickCount","stroke","tickFormatter","tick","Math","round","orientation","axisLine","Tooltip","formatter","CartesianGrid","strokeDasharray","Line","strokeWidth","Legend","iconSize","verticalAlign","headGraph","titleName","hiddenTitleName","undefined","CircularBar","today","diff","styles","buildStyles","pathColor","Widgets","headCircularBar","secondMain","height","WidgetsContainer","this","props","Component","connect","responseKPKChild","MenuTreeList","treeList","setter","acceptFilters","altTreeList","anchorEl","setAnchorEl","selected","setSelected","setChecked","root","flexGrow","width","overflow","menu","renderTree","nodes","TreeItem","nodeId","Array","isArray","node","Button","aria-controls","variant","event","currentTarget","disabled","Menu","keepMounted","open","Boolean","onClose","TreeView","defaultCollapseIcon","defaultExpanded","defaultExpandIcon","onNodeSelect","nodeIds","FetchError","fetchError","Filters","requestWidgetsFromFilters","setPeriod","setOrgOid","requestSetFiltersDefault","split","newPeriodType","newPeriod","tempPeriodNameMapList","defaultFilters","orgName","Date","getFullYear","getMonth","initialStateFilters","st","end","getQuarter","month","floor","getMonths","q","arr","months","pad","toString","createNode","d1","d2","rootNode","y","ny","curr_q1","max","curr_q2","min","nq","mm","curr_m1","curr_m2","m","nm","createPeriodTree","now","SET_ORG_LIST","SET_PERIOD","SET_ORG_OID","SET_ORG_NAME","SET_FILTERS_DEFAULT","SET_SHOW_FILTERS","filtersReducer","per","newName","removeItem","String","FiltersContainer","requestOrg","setOrgName","options","Navbar","setShowFilters","handleClose","shortNameOrg","navbar","leftNav","src","loading","alt","filterIcon","aboutFilters","generalTitle","IconButton","aria-haspopup","option","MenuItem","NavbarContainer","App","container","AppContainer","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6GACAA,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,wBAAwB,WAAa,2BAA2B,aAAe,6BAA6B,aAAe,+B,oBCAvLD,EAAOC,QAAU,CAAC,OAAS,wBAAwB,WAAa,4BAA4B,gBAAkB,mC,0CCA9GD,EAAOC,QAAU,CAAC,UAAY,+B,oBCA9BD,EAAOC,QAAU,CAAC,OAAS,8B,oBCA3BD,EAAOC,QAAU,CAAC,QAAU,2B,oBCA5BD,EAAOC,QAAU,CAAC,WAAa,iC,yCCA/BD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,KAAO,uBAAuB,eAAiB,iCAAiC,UAAY,4BAA4B,aAAe,+BAA+B,UAAY,4BAA4B,mBAAqB,uC,4LCCrRC,EAAQC,EAAQ,KAASC,QACzBC,EAAWH,EAAMI,OAAO,CAE5BC,QAAS,2BAGEC,EACH,SAACC,EAAaC,EAAgBC,EAAqBC,GAazD,OAAOP,EACJQ,IADI,OAGJC,MAAK,SAACC,GAAD,OAA6BA,EAASC,QAC3CC,OAAM,gBAlBAT,EAoBC,SAACC,EAAaC,EAAgBC,EAAqBO,EAAiBC,EAAqBC,GAanG,OAAOlB,EAAMmB,IAAN,sBACFH,EAAMI,KAAI,SAAAC,GAAG,OAAIlB,EAASQ,IAAT,aAAmBU,IAAON,OAAM,mBAD/C,YAEFE,EAAUG,KAAI,SAAAC,GAAG,OAAIlB,EAASQ,IAAT,gBAAsBU,IAAON,OAAM,mBAFtD,YAGFG,EAAQE,KAAI,SAAAC,GAAG,OAAKlB,EAAQQ,IAAT,cAAoBU,IAAON,OAAM,mBAHlD,CAILZ,EAASQ,IAAT,OAAoBI,OAAM,kBAYzBH,MAAK,SAACC,GAAD,OAA+BA,EAASO,KAAI,SAAAE,GAAG,OAAIA,EAAMA,EAAIR,KAAOQ,SAUnEC,EACH,WACN,OAAOpB,EAEJQ,IAAI,iBACJC,MAAK,SAACC,GAAD,OAA6BA,EAASC,S,QCpErCU,EAAU,SAACC,GAGtB,IAFA,IAAMC,EAAY,GAETC,EAAI,EAAGA,EAAIF,EAAIX,KAAKc,OAAQD,IAAK,CAIxC,IAHA,IAAME,EAAe,GAGZC,EAAI,EAAGA,EAAIL,EAAIM,SAASH,OAAQE,IAEvC,GAAU,IAANA,EACFD,EAAQJ,EAAIM,SAASD,IAAML,EAAIX,KAAKa,GAAGG,OACpC,CAE2B,kBAAnBL,EAAIX,KAAKa,GAAGG,KACrBL,EAAIX,KAAKa,GAAGG,IAAM,IAEpB,IAAIE,EAAUP,EAAIX,KAAKa,GAAGG,GAAGG,QAAQ,IAAK,KAE1CJ,EAAQJ,EAAIM,SAASD,KAAOE,IAAYA,EAAU,IAC5CA,GAASE,QAAQ,IAClBF,GACEA,EACDA,EAGVN,EAAUS,KAAKN,GAGjB,MAAO,CAACO,KAAMX,EAAIM,SAAUM,KAAMX,IAEvBY,EAAY,SAACC,GACxB,IAAKA,EAAQ,MAAO,GACpB,IAAK,IAAIZ,KAAKY,EACZ,GAAKA,EAAOZ,GAAZ,CAKA,IAAMa,EAAQD,EAAOZ,GACrB,IAAK,IAAIA,KAAKa,EAAM1B,KACd0B,EAAM1B,KAAK2B,eAAed,IAAMa,EAAM1B,KAAKa,GAAX,GAAsB,IACxDa,EAAM1B,KAAKa,GAAX,IAA4C,IAArBa,EAAM1B,KAAKa,GAAX,GAA0BO,QAAQ,SAP3DK,EAAOZ,GAAK,CAACe,MAAO,2GAAuB5B,KAAM,IAWrD,OAAOyB,GAEII,EAAa,SAACC,GACzB,IAAK,IAAIjB,KAAKiB,GACRA,EAAOH,eAAed,IAAwB,OAAjBiB,EAAOjB,GAAGkB,IAA+B,OAAhBD,EAAOjB,GAAGmB,EAE3DF,EAAOjB,GAAGmB,GAAK,IACtBF,EAAOjB,GAAGmB,IAAoB,IAAdF,EAAOjB,GAAGmB,GAASZ,QAAQ,IAF3CU,EAAOjB,GAAK,CAACe,MAAO,2GAAuBG,GAAI,EAAGC,EAAG,EAAGC,KAAK,GAIjE,OAAOH,GAIII,EAAc,SAACC,GAAgC,IAAD,EACzD,IAAKA,IAAYA,EAAQ,IAA0B,mBAApB,UAAAA,EAAQ,UAAR,eAAY1C,KAAyB,MAAO,GAK3E,IAHA,IAAM2C,EAAc,IAAIC,IAAIF,EAAQ7B,KAAI,SAACgC,EAASzB,GAAV,MAAqB,CAACyB,EAAE,IAASzB,OACnE0B,EAAa,IAAIF,IAAI,CAAC,CAAC,kBAAmB,kGAEvCxB,EAAIsB,EAAQrB,OAAS,EAAGD,EAAI,EAAGA,IAAK,CAC3C0B,EAAWC,IAAIL,EAAQtB,GAAGpB,IAAM,GAAI0C,EAAQtB,GAAG4B,MAC/C,IAAMC,EAAeN,EAAYvC,IAAIsC,EAAQtB,GAAG8B,QAC3CR,EAAQO,GAAR,WAAmCP,EAAQO,GAAR,SAAoC,IAE5EP,EAAQO,GAAR,+BAAwCP,EAAQO,GAAR,UAAxC,CAA2EP,EAAQtB,KAX5B,oBAczCsB,GAdyC,IAczD,2BAAyB,CAAC,IAAjBS,EAAgB,QACvBA,EAAInD,KAAO,GACXmD,EAAID,QAAU,IAhByC,kDAmBzCR,GAnByC,IAmBzD,2BAAyB,CAAC,IAAD,EAAhBS,EAAgB,SACvB,OAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAKC,gBAAT,aAAI,EAAe/B,SACjB8B,EAAIC,SAASC,MAAK,SAACC,EAAQC,GAAT,OAAoBD,EAAEN,KAAOO,EAAEP,KAAO,GAAK,MArBR,8BA0BzD,IAFA,IAAMQ,EAAaC,KAAKC,MAAMD,KAAKE,UAAUjB,EAAQ,KAE5CtB,EAAIoC,EAAWJ,SAAS/B,OAAS,EAAGmC,EAAWR,MAAQ5B,GAAK,EAAGA,IACjEoC,EAAWJ,SAAShC,GAAGwC,KAC1BJ,EAAWJ,SAASS,OAAOzC,EAAG,GAGlC,MAAO,CAACsB,UAASc,aAAYV,eCtD3BgB,EAAsB,CACxB5C,IAAK,GACL6C,SAAU,GACVC,GAAI,GACJC,KAAM,GACN5B,OAAQ,GACR6B,mBAAmB,GAkFfC,EAAU,UACVC,EAAgB,gBAChBC,EAAS,SACTC,EAAY,YACZC,EAAW,WACXC,EAAkC,kCAClCC,EAAgC,gCAChCC,EAAmB,mBAGZC,EAAS,SAACzD,GAAD,MAAoC,CAAC0D,KAAMT,EAASjD,QAE7D2D,EAAQ,SAACb,GAAD,MAAwC,CAACY,KAAMP,EAAQL,OAC/Dc,EAAU,SAACb,GAAD,MAA4C,CAACW,KAAML,EAAUN,SACvEc,EAAY,SAAC1C,GAAD,MAAiD,CAACuC,KAAMN,EAAWjC,WAC/E2C,EAA8B,iBAA0C,CAACJ,KAAMJ,IAC/ES,EAA4B,iBAAwC,CAACL,KAAMH,IAI3ES,EAAiB,SAC5BlF,EAAaC,EAAgBkF,GADD,IACqB1E,EADrB,uDACuC,CAAC,EAAG,EAAG,GAAIC,EADlD,uDACwE,CAAC,EAAG,EAAG,GAAIC,EADnF,uDACuG,CAAC,EAAG,GAD3G,8CAEzB,WAAOyE,GAAP,eAAA9B,EAAA,6DACH8B,EAASJ,KADN,SAEoBjF,EAAsBC,EAAKC,EAAQkF,EAAY1E,EAAOC,EAAWC,GAFrF,OAEGL,EAFH,OAGH8E,EAASP,EAAMvE,EAASuD,OAAO,EAAGpD,EAAMY,UACxC+D,EAASL,EAAUzE,EAASuD,OAAO,EAAGnD,EAAUW,UAChD+D,EAASN,EAAQxE,EAASuD,OAAO,EAAGlD,EAAQU,UAC5C+D,EAAST,EAAOrE,EAAS+E,QACzBD,EAASH,KAPN,2CAFyB,uDAgBfK,EApFQ,WAAuF,IAAtFC,EAAqF,uDAA7EzB,EAAqB0B,EAAwD,uCAC3G,OAAQA,EAAOZ,MACb,KAAKT,EACH,IAAMjD,EAAOsE,EAAOtE,IAChBD,EAAQuE,EAAOtE,KACf,CAACW,KAAM,CAAC,2CAAc,4GAAwBC,KAAM,IACxD,OAAO,2BAAIyD,GAAX,IAAkBrE,QAEpB,KAAKkD,EACH,IAAML,EAAYyB,EAAOzB,SACrB9C,EAAQuE,EAAOzB,UACf,CAAClC,KAAM,CAAC,2CAA4C,4GAAwBC,KAAM,IACtF,OAAO,2BAAIyD,GAAX,IAAkBxB,aAEpB,KAAKM,EACH,OAAOmB,EAAOxB,GAAG3C,OAAV,2BAAuBkE,GAAvB,IAA8BvB,GAAIjC,EAAUyD,EAAOxB,MAAOuB,EAEnE,KAAKhB,EACH,OAAOiB,EAAOvB,KAAK5C,OAAZ,2BAAyBkE,GAAzB,IAAgCtB,KAAMlC,EAAUyD,EAAOvB,QAASsB,EAEzE,KAAKjB,EACH,OAAOkB,EAAOnD,OAAOhB,OAAd,2BAA2BkE,GAA3B,IAAkClD,OAAQD,EAAWoD,EAAOnD,UAAWkD,EAEhF,KAAKf,EACH,OAAO,2BAAIe,GAAX,IAAkBrB,mBAAmB,IAEvC,KAAKO,EACH,OAAO,2BAAIc,GAAX,IAAkBrB,mBAAmB,IAEvC,KAAKQ,EACH,OAAO,2BAAIa,GAAX,IAAkBxB,SAAU,KAE9B,QACE,OAAOwB,IC7GAE,EAAY,SAACF,GAAD,OAA0BA,EAAMG,QAAQxE,KACpDyE,EAAiB,SAACJ,GAAD,OAA0BA,EAAMG,QAAQ3B,UACzD6B,EAAW,SAACL,GAAD,OAA0BA,EAAMG,QAAQ1B,IACnD6B,EAAa,SAACN,GAAD,OAA0BA,EAAMG,QAAQzB,MACrD6B,EAAe,SAACP,GAAD,OAA0BA,EAAMG,QAAQrD,QAcvD0D,EAA0B,SAACR,GAAD,OAA0BA,EAAMG,QAAQxB,mBAGlE8B,EAAgB,SAACT,GAAD,OAA0BA,EAAMU,QAAQvD,SACxDwD,EAA0B,SAACX,GAAD,OAA0BA,EAAMU,QAAQE,mBAClEC,GAAe,SAACb,GAAD,OAA0BA,EAAMU,QAAQI,QAGvDC,GAAgB,SAACf,GAAD,OAA0BA,EAAMU,QAAQM,SACxDC,GAAe,SAACjB,GAAD,OAA0BA,EAAMU,QAAQhG,QACvDwG,GAAmB,SAAClB,GAAD,OAA0BA,EAAMU,QAAQd,YAC3DuB,GAAoB,SAACnB,GAAD,OAA0BA,EAAMU,QAAQU,aAC5DC,GAAmB,SAACrB,GAAD,OAA0BA,EAAMU,QAAQnD,YAC3D+D,GAA0B,SAACtB,GAAD,OAA0BA,EAAMU,QAAQa,mBAClEC,GAAmB,SAACxB,GAAD,OAA0BA,EAAMU,QAAQzC,Y,0KChC3DwD,GAAY,kBAAM,sBAAKC,UAAWC,KAAQC,UAAxB,2F,+DCYzBC,GAAiC,SAAC,GAAyC,IAAxCC,EAAuC,EAAvCA,OAAQC,EAA+B,EAA/BA,0BAUzCC,EATYC,MAAW,iBAAO,CAChCC,OAAQ,CACN,oCAAqC,CACnCC,gBAAiB,eAMNC,GAEnB,OACE,uBAAMV,UAAWC,KAAQU,UAAzB,SACE,eAAC,KAAD,CACEC,QACE,eAAC,KAAD,CACEC,KAAK,SACLC,QAASV,EACTW,SAAU,kBAAMV,KAChBW,MAAM,UACNhB,UAAWM,EAAWE,SAE1BS,eAAe,QACfC,MAAO,uBAAMlB,UAAS,UAAKC,KAAQkB,mBAAb,YAAmClB,KAAQmB,WAA1D,2IAsEAC,GAhEW,SAAC,GAAwE,IAAvEC,EAAsE,EAAtEA,gBAAiBC,EAAqD,EAArDA,eAAgBnC,EAAqC,EAArCA,OAAQpG,EAA6B,EAA7BA,OAAQkF,EAAqB,EAArBA,WAAYjE,EAAS,EAATA,IAAS,EAClDuH,IAAMC,SAAkD,MAAzCC,aAAaC,QAAQ,kBAA2B,GADb,oBACzFC,EADyF,KACxEC,EADwE,KAEzFjH,EAAcX,EAAdW,KAAMC,EAAQZ,EAARY,KAEb,IAAKD,EAAKR,OAAQ,OAAO,eAAC,GAAD,IAJuE,mBAKlEQ,EALkE,GAKzFkH,EALyF,KAKrFC,EALqF,KAK3EC,EAL2E,KAWhG,OACE,sBAAKhC,UAAWC,KAAQgC,SAAxB,SACE,eAACC,GAAA,EAAD,CAAgBC,UAAWC,KAAOpC,UAAWC,KAAQoC,eAArD,SACE,gBAACC,GAAA,EAAD,CAAOzB,KAAK,QAAQ0B,cAAY,EAACC,aAAW,gBAA5C,UACE,eAACC,GAAA,EAAD,UACE,gBAACC,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAW3C,UAAWC,KAAQ2C,KAA9B,SACE,uBAAK5C,UAAWC,KAAQmB,UAAxB,UACgB,yCAAbW,GAAsC,6GAAbA,EACtB,gCAAOA,IACP,wBAAM/B,UAAWC,KAAQmB,UAAzB,UACA,eAAC,KAAD,CAAWyB,SAAS,QAAQC,QAASvB,IACpCQ,KAGL,eAAC,GAAD,CAAiB3B,OAAQwB,EAAiBvB,0BAnBxB,WAChCqB,aAAaqB,QAAQ,eAAgBnB,EAAkB,IAAM,KAC7DC,GAAoBD,WAoBV,eAACe,GAAA,EAAD,CAAWK,MAAM,QAAQhD,UAAWC,KAAQ2C,KAA5C,SAAmDZ,SAGvD,eAACiB,GAAA,EAAD,UACGpI,EAAKjB,KAAI,SAACsJ,GAAD,OACR,gBAACR,GAAA,EAAD,CACUS,MAAsB,MAAfD,EAAIlB,IAAkBJ,EAAkB,CAACwB,QAAS,QAAU,GACnEpD,UACiB,MAAfkD,EAAIlB,IAA+B,yCAAbD,EAClB9B,KAAQU,UACR,GAENmC,QACiB,MAAfI,EAAIlB,IAA+B,yCAAbD,EAClB,WACAT,EAAgBlC,EAAQpG,EAAQkF,EAAYgF,EAAIpB,KAEhD,aAZhB,UAeE,eAACa,GAAA,EAAD,CAAWR,UAAU,KAAKkB,MAAM,MAAMrD,UAAWC,KAAQ2C,KAAzD,SACEM,EAAInB,KAEN,eAACY,GAAA,EAAD,CAAWK,MAAM,QAAQhD,UAAWC,KAAQ2C,KAA5C,SACEM,EAAIlB,OAnBOkB,EAAIpB,iB,8ICxE3BwB,GAAmC,SAAC,GAAgD,IAA/CC,EAA8C,EAA9CA,YAAanD,EAAiC,EAAjCA,OAAQoD,EAAyB,EAAzBA,cAAeC,EAAU,EAAVA,KAC7E,MAAoB,KAAhBF,EAA2B,GAG7B,sBAAIvD,UAAWC,KAAQyD,cAAeZ,QAAS,kBAAMU,EAAcC,IAAnE,UAA2EF,EAA3E,IAA0FnD,EAEtF,eAAC,KAAD,CAA0BJ,UAAWC,KAAQ0D,aAAc3C,MAAM,SAAS6B,SAAS,UADnF,eAAC,KAAD,CAAc7C,UAAWC,KAAQ0D,aAAc3C,MAAM,SAAS6B,SAAS,cAgFhEe,GA1Ec,SAAC,GAA8B,IAAD,IAA5B7G,EAA4B,EAA5BA,GAA4B,IAAxB8G,qBAAwB,MAAR,GAAQ,EAClD3I,EAAe6B,EAAf7B,MAAO5B,EAAQyD,EAARzD,KACRwK,GAAkB,OAAF/G,QAAE,IAAFA,GAAA,UAAAA,EAAIzD,YAAJ,eAAUc,SAAU2C,EAAGzD,KAAK,GAAG+B,GAC/C0I,GAAoB,OAAFhH,QAAE,IAAFA,GAAA,UAAAA,EAAIzD,YAAJ,eAAUc,UAAW2C,EAAGzD,KAAK,GAAGgC,EAHC,EAIvBkG,IAAMC,SAA0D,MAAjDC,aAAaC,QAAb,sBAAoCzG,MAAoB,GAJhD,oBAIlD8I,EAJkD,KAIvCC,EAJuC,OAKrBzC,IAAMC,SAA2D,MAAlDC,aAAaC,QAAb,uBAAqCzG,MAAoB,GALnD,oBAKlDgJ,EALkD,KAKtCC,EALsC,KAOnDX,EAAgB,SAACC,GACR,OAATA,IACF/B,aAAaqB,QAAb,sBAAoC7H,GAAS8I,EAAY,IAAM,KAC/DC,GAAcD,IAEH,MAATP,IACF/B,aAAaqB,QAAb,uBAAqC7H,GAASgJ,EAAa,IAAM,KACjEC,GAAeD,KAInB,OACE,sBAAKlE,UAAWC,KAAQlF,OAAQoI,MAAOU,EAAvC,SACE,eAACO,GAAA,EAAD,UACE,gBAACC,GAAA,EAAD,CAAe/K,KAAMA,EAAMgL,OAAQ,CACjCC,KAAM,IADR,UAGE,eAACC,GAAA,EAAD,CAAOC,QAAQ,MACf,eAACC,GAAA,EAAD,CAAOvB,MAAOa,EAAY,CAACZ,QAAS,QAAU,GACvCuB,QAAQ,OACRC,OAAQ,CAAC,UAAW,WACpBC,UAAW,EACXC,OAAO,YACd,eAACJ,GAAA,EAAD,CAAOvB,MAAOe,EAAa,CAACd,QAAS,QAAU,GACxC2B,cAAe,SAAAC,GAAI,gBAAQC,KAAKC,MAAa,GAAPF,GAAa,KACnDL,QAAQ,QACRQ,YAAY,QACZN,UAAW,EACXO,UAAU,EACVR,OAAQ,CAAC,UAAW,WACpBE,OAAO,YACd,eAACO,GAAA,EAAD,CAASC,UAAW,SAACtD,EAAYjG,GAAb,MAA4B,CAAC,GAAD,OAAIiG,GAAJ,OAAqB,MAATjG,EAAe,KAAO,qBAClF,eAACwJ,GAAA,EAAD,CAAeC,gBAAgB,QAC/B,eAACC,GAAA,EAAD,CAAMtC,MAAOa,EAAY,CAACZ,QAAS,QAAU,GACvCuB,QAAQ,OACRhH,KAAK,WACL8G,QAAQ,KACRK,OAAO,UACPY,YAAa,IACnB,eAACD,GAAA,EAAD,CAAMtC,MAAOe,EAAa,CAACd,QAAS,QAAU,GACxCuB,QAAQ,QACRhH,KAAK,WACL8G,QAAQ,IACRK,OAAO,UACPY,YAAa,IACnB,eAACC,GAAA,EAAD,CAAQC,SAAU,EACVC,cAAc,MACdP,UAAW,SAAC7B,GAAD,OAAW,uBAAKzD,UAAWC,KAAQ6F,UAAxB,UAClB,sBAAI9F,UAAoB,OAATyD,EAAgBxD,KAAQ8F,UAAY9F,KAAQ+F,gBAA3D,UAA6E9K,EAA7E,YACU,OAATuI,EACG,eAAC,GAAD,CACAF,YAAaO,QAAwDmC,KAAtCnC,GAAiBC,GAAiC,mDAAa,GAC9F3D,OAAQ4D,EAAWP,KAAMA,EACzBD,cAAeA,IACf,eAAC,GAAD,CACAD,YAAaQ,QAA0DkC,KAAtCnC,GAAiBC,GAAiC,IAAM,GACzF3D,OAAQ8D,EACRT,KAAMA,EACND,cAAeA,kB,+BC/D1B0C,I,OAfoB,SAAC,GAAwB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,KAAM7K,EAAS,EAATA,IAChD,OACE,sBAAKyE,UAAWC,KAAQlF,OAAxB,SACE,gBAAC,KAAD,CACEiH,MAAOoE,EACPC,OAAQC,aAAY,CAClBC,UAAW,uBAHf,WAKIhL,GAAO,8BAAK4K,IACd,oCAASC,EAAT,cCyCOI,GAhCgB,SAAC,GAGO,IAFLvM,EAEI,EAFJA,IAAK8C,EAED,EAFCA,GAAIE,EAEL,EAFKA,kBAAmBqE,EAExB,EAFwBA,gBAAiBC,EAEzC,EAFyCA,eAAgBnC,EAEzD,EAFyDA,OAAQpG,EAEjE,EAFiEA,OACrEkF,EACI,EADJA,WAAYpB,EACR,EADQA,SAAU1B,EAClB,EADkBA,OAAQ4B,EAC1B,EAD0BA,KAE9D,OAAIC,EAA0B,eAAC,GAAD,IAG5B,iCACE,kCACE,eAAC,GAAD,CAAUhD,IAAK6C,EAAS7B,eAAe,QAAU6B,EAAW7C,EAAKqH,gBAAiBA,EACxEC,eAAgBA,EAAgBnC,OAAQA,EAAQpG,OAAQA,EAAQkF,WAAYA,IACtF,uBAAK8B,UAAWC,KAAQlF,OAAxB,UACE,qBAAIiF,UAAWC,KAAQwG,gBAAvB,wDACCrL,EAAOxB,KAAI,SAACgC,EAAgBzB,GAAjB,OACV,eAAC,GAAD,CAAae,MAAOU,EAAGV,MAAOiL,MAAOvK,EAAGP,GAAI+K,KAAMxK,EAAGN,EAAWC,IAAKK,EAAGL,KAAXpB,SAGjE,sBAAK6F,UAAWC,KAAQlF,OAAxB,SACGgC,EAAGnD,KAAI,SAACoB,EAAkBb,GAAnB,OACN,eAAC,GAAD,CAAO4C,GAAI/B,GAAYb,WAI7B,sBAAK6F,UAAS,UAAKC,KAAQyG,YAA3B,SACG1J,EAAKpD,KAAI,SAACoB,EAAkBb,GAAnB,OACR,eAAC,GAAD,CAAO4C,GAAI/B,EAAe6I,cAAe,CAAC8C,OAAQ,SAA3BxM,YCb3ByM,G,uKACJ,WACEC,KAAKC,MAAM7I,eAAe4I,KAAKC,MAAM1H,OAAQyH,KAAKC,MAAM9N,OAAQ6N,KAAKC,MAAM5I,c,oBAG7E,WACE,OACE,eAAC,GAAD,CACEjE,IAAK4M,KAAKC,MAAM7M,IAChB8C,GAAI8J,KAAKC,MAAM/J,GACf3B,OAAQyL,KAAKC,MAAM1L,OACnB4B,KAAM6J,KAAKC,MAAM9J,KAIjBC,kBAAmB4J,KAAKC,MAAM7J,kBAC9BmC,OAAQyH,KAAKC,MAAM1H,OACnBpG,OAAQ6N,KAAKC,MAAM9N,OACnBkF,WAAY2I,KAAKC,MAAM5I,WACvBpB,SAAU+J,KAAKC,MAAMhK,SAErBwE,gBAAiBuF,KAAKC,MAAMxF,gBAC5BC,eAAgBsF,KAAKC,MAAMvF,qB,GAtBJwF,aA2ChBC,gBAhBE,SAAC1I,GAAD,MAA8C,CAC7DrE,IAAKuE,EAAUF,GACfxB,SAAU4B,EAAeJ,GACzBvB,GAAI4B,EAASL,GACbtB,KAAM4B,EAAWN,GACjBlD,OAAQyD,EAAaP,GAIrBrB,kBAAmB6B,EAAwBR,GAC3Cc,OAAQD,GAAab,GACrBtF,OAAQuG,GAAajB,GACrBJ,WAAYsB,GAAiBlB,MAI8D,CAC3FL,iBACAqD,gBP8E6B,SAACvI,EAAaC,EAAgBkF,EAAoBhF,GAAlD,8CAAyE,WAAOiF,GAAP,eAAA9B,EAAA,sEACvEvD,EAAkBC,EAAKC,EAAQkF,EAAYhF,GAD4B,OAChG+N,EADgG,OAEtG9I,EAtBuE,CAACR,KAAMR,EAAeL,SAsBxEmK,IAFiF,2CAAzE,uDO7E7B1F,eP+D4B,iBAA6B,CAAC5D,KAAMF,KOlEnDuJ,CAIZJ,I,qICmCYM,GApGqB,SAAAJ,GAAU,IAE1CK,EACEL,EADFK,SAAUjM,EACR4L,EADQ5L,MAAQkE,EAChB0H,EADgB1H,OAAQpG,EACxB8N,EADwB9N,OAAQkF,EAChC4I,EADgC5I,WAAYkJ,EAC5CN,EAD4CM,OAAQC,EACpDP,EADoDO,cAFb,EAGvCP,EADmEQ,mBAF5B,MAE0C,GAF1C,EAE8CrK,EACrF6J,EADqF7J,kBAF9C,EAIXuE,IAAMC,SAA6B,MAJxB,oBAIpC8F,EAJoC,KAI1BC,EAJ0B,OAKXhG,IAAMC,SAAiB,IALZ,oBAKpCgG,EALoC,KAK1BC,EAL0B,OAMblG,IAAMC,SAAmD,MAA1CC,aAAaC,QAAQ,mBAA4B,GANnD,oBAMpCb,EANoC,KAM3B6G,EAN2B,KAiDrC1H,EAzCYM,aAAW,CAC3BqH,KAAM,CACJtD,OAAQ,QACRqC,OAAkB,6EAAVzL,EAA2B,IAAM,IACzC2M,SAAU,EACVC,MAAiB,6EAAV5M,EAA2B,IAAM,IACxC6M,SAAU,QAEZC,KAAM,CACJ1D,OAAO,GAAD,OAAe,6EAAVpJ,EAA2B,MAAQ,MAAxC,YAA2D,6EAAVA,EAA2B,MAAQ,QAE5FsF,OAAQ,CACN,oCAAqC,CACnCC,gBAAiB,aA4BPC,GAEVuH,EAAa,SAAbA,EAAcC,GAAD,OACjB,eAACC,GAAA,EAAD,CAA0BC,OAAQF,EAAMnP,IAAKmI,MAAOgH,EAAMnM,KAA1D,SAEIsM,MAAMC,QAAQJ,EAAM/L,UAChB+L,EAAM/L,SAASvC,KAAI,SAAC2O,GAAD,OAAUN,EAAWM,MACxC,MAJOL,EAAMnP,MASvB,OACE,iCACE,eAACyP,GAAA,EAAD,CAAQC,gBAAc,cAAcC,QAAQ,WAAW5F,QA5BvC,SAAC6F,GACnBnB,EAAYmB,EAAMC,gBA2B6DC,SAAU5L,EAAvF,SACG/B,IAEH,gBAAC4N,GAAA,EAAD,CACE9I,UAAWC,EAAQ+H,KACnBlG,GAAG,cACHyF,SAAUA,EACVwB,aAAW,EACXC,KAAMC,QAAQ1B,GACd2B,QAjCc,WAClB1B,EAAY,MAERC,GAAgC,kBAAbA,GACrBL,EAAOK,IAEJA,GAAsB,6EAAVvM,GAA4BuM,IAAarI,GAAYqI,GAAsB,yCAAVvM,GAAsBuM,IAAQ,UAAQvJ,EAAR,YAAsBlF,KACpIqO,EAAcnM,EAAOuM,IAoBrB,UAQa,6EAAVvM,GACD,eAAC,KAAD,CACI0F,QAAS,eAAC,KAAD,CAAQC,KAAK,SACLC,QAASA,EACTC,SApDL,WACpBW,aAAaqB,QAAQ,gBAAiBjC,EAAU,IAAM,KACtD6G,GAAY7G,IAmDaE,MAAM,UACNhB,UAAWC,EAAQO,SAEpCS,eAAe,QACfC,MAAK,qPAET,eAACiI,GAAA,EAAD,CACEnJ,UAAWC,EAAQ2H,KACnBwB,oBAAqB,eAAC,KAAD,IACrBC,gBAA2B,6EAAVnO,EAA2B,CAACiM,EAASpO,KAAO,CAAC,QAC9DuQ,kBAAmB,eAAC,KAAD,IACnBC,aA3Da,SAACZ,EAA8Ba,GAClD9B,EAAY8B,IAqDR,SAOiEvB,EAApD,6EAAV/M,GAA6B4F,EAA4CwG,EAA2BH,Y,qBC1GlGsC,GAAa,kBAAM,sBAAKzJ,UAAWC,KAAQyJ,WAAxB,sNCqDjBC,GAjDgB,SAAA7C,GAAU,IAErCrL,EAEEqL,EAFFrL,QAASc,EAEPuK,EAFOvK,WAAY2C,EAEnB4H,EAFmB5H,kBAAmBjC,EAEtC6J,EAFsC7J,kBAAmBmC,EAEzD0H,EAFyD1H,OAAsBwK,EAE/E9C,EAF+E8C,0BACjFC,EACE/C,EADF+C,UAAWC,EACThD,EADSgD,UAAWxK,EACpBwH,EADoBxH,QAAStG,EAC7B8N,EAD6B9N,OAAQkF,EACrC4I,EADqC5I,WAAY6L,EACjDjD,EADiDiD,yBAGrD,IAFIjD,EAD2EpH,YAG7D,OAAO,+BACzB,GAAIR,EAAmB,OAAO,eAAC,GAAD,IAE9B,IAAMmI,EAAgB,WAA+C,IAA9C1J,EAA6C,uDAA9B,MAAO8J,EAAuB,uDAAP,GAAO,EACtB,yCAAT9J,EAAoB8J,EAASuC,MAAM,KAAO,CAAC,GAAI,IADhB,oBAC3DC,EAD2D,KAC5CC,EAD4C,KAElEN,EACW,6EAATjM,EAA0B8J,EAAWrI,EAC5B,yCAATzB,EAAoBuM,EAAYlR,EACvB,yCAAT2E,EAAoBsM,EAAgB/L,IAIxC,OACE,uBAAK8B,UAAWC,KAAQjB,QAAxB,UACKvD,GAAYA,EAAQ1C,IAEnB,uCAAE,eAAC,GAAD,CAAcoO,SAAU1L,EACV6L,YAAa/K,EACbrB,MAAO,2EACPkM,OAAQ0C,EACR1K,OAAQA,EACRpG,OAAQA,EACRkF,WAAYA,EACZmJ,cAAeA,EACfpK,kBAAmBA,IAEnC,eAAC,GAAD,CAAckK,SAAU7H,EACVpE,MAAO,uCACPkE,OAAQA,EACRgI,OAAQyC,EACR7Q,OAAQA,EACRkF,WAAYA,EACZmJ,cAAeA,EACfpK,kBAAmBA,OAlBjC,eAAC,GAAD,IAqBJ,eAACuL,GAAA,EAAD,CAAQE,QAAQ,WAAW5F,QAASiH,EAA0BlB,SAAU5L,EAAxE,6GCvBAkN,GAAwB,IAAIxO,IAqF5ByO,GAAiB,CACrBhL,OAAQ,kBACRiL,QAAS,+FACTrR,OAAO,GAAD,QAAK,IAAIsR,MAAOC,cAAhB,aAAiC,IAAID,MAAOE,WAAa,EAAI,GAA5B,YAAqC,IAAIF,MAAOE,WAAa,IAAM,IAAIF,MAAOE,WAAa,GAClItM,WAAY,KAGVuM,GAAsB,CACxBhP,QAAS,GACTc,WAAY,GACZV,WAAY,IAAIF,IAChBkE,kBAAmBsK,GACnB7K,QAhGuB,SAACoL,EAAUC,GAqClC,IAnCA,IAAMC,EAAa,SAACC,GAClB,OAAO5F,KAAK6F,OAAOD,EAAQ,GAAK,IAG5BE,EAAY,SAACC,GAEjB,IADA,IAAIC,EAAM,GACD9Q,EAAS,EAAJ6Q,EAAQ,EAAI7Q,GAAU,EAAJ6Q,EAAQ,EAAI7Q,IAC1C8Q,EAAItQ,KAAKR,GACX,OAAO8Q,GAGHC,EAAS,CAAC,uCAAU,6CAAW,2BAAQ,uCAAU,qBAAO,2BAAQ,2BACpE,uCAAU,mDAAY,6CAAW,uCAAU,8CAEvCC,EAAM,SAACtR,EAAsBgH,GAEjC,IADAhH,EAAMA,EAAIuR,WACHvR,EAAIO,OAASyG,GAAMhH,EAAM,IAAMA,EACtC,OAAOA,GAGHwR,EAAa,SAACtP,EAAchD,EAAaoD,GAC7C,MAAO,CACLJ,KAAMA,EACNhD,IAAKA,EACLoD,SAAUA,IAIVmP,EAAK,IAAIhB,KAAKI,GACda,EAAK,IAAIjB,KAAKK,GAGda,EAAWH,EAAW,uCAAU,OAAQ,IAGnCI,EAAIH,EAAGf,cAAekB,GAAKF,EAAGhB,cAAekB,IAAK,CAEzD,IAAIC,EAAKL,EAAWI,EAAI,sBAAL,YAAkBA,EAAlB,OAA0B,IAG7CtB,GAAsBrO,IAAtB,YAA+B2P,EAA/B,iBAA0CA,EAA1C,wBAOA,IAJA,IAAIE,EAAWL,EAAGf,gBAAkBkB,EAAIxG,KAAK2G,IAAI,EAAGhB,EAAWU,EAAGd,aAAe,EAC7EqB,EAAWN,EAAGhB,gBAAkBkB,EAAIxG,KAAK6G,IAAI,EAAGlB,EAAWW,EAAGf,aAAe,EAGxEQ,EAAIW,EAASX,GAAKa,EAASb,IAAK,CAEvC,IAAIe,EAAKV,EAAWL,EAAI,8CAAL,YAAsBS,EAAtB,aAA4BT,GAAK,IAGpDb,GAAsBrO,IAAtB,YAA+B2P,EAA/B,aAAqCT,GAArC,UAA6CS,EAA7C,iCAAwDT,EAAxD,gDAUA,IAPA,IAAIgB,EAAKjB,EAAUC,GAGfiB,EAAWX,EAAGf,gBAAkBkB,GAAKT,IAAMW,EAAU1G,KAAK2G,IAAII,EAAG,GAAIV,EAAGd,YAAcwB,EAAG,GACzFE,EAAWX,EAAGhB,gBAAkBkB,GAAKT,IAAMa,EAAU5G,KAAK6G,IAAIE,EAAGA,EAAG5R,OAAS,GAAImR,EAAGf,YAAcwB,EAAGA,EAAG5R,OAAS,GAG5G+R,EAAIF,EAASE,GAAKD,EAASC,IAAK,CAEvC,IAAIC,EAAKf,EAAWH,EAAOiB,GAAR,YAAiBV,EAAjB,YAAsBN,EAAKgB,EAAI,EAAI,IAAM,IAG5DhC,GAAsBrO,IAAtB,YAA+B2P,EAA/B,YAAoCN,EAAKgB,EAAI,EAAI,IAAjD,UAA0DV,EAA1D,iCAAqEP,EAAOiB,KAG5EJ,EAAG5P,SAASxB,KAAKyR,GAGnBV,EAAGvP,SAASxB,KAAKoR,GAGnBP,EAASrP,SAASxB,KAAK+Q,GAIzB,OAAOF,EAcEa,CAAiB,IAAI/B,KAAK,KAAM,EAAG,GAAIA,KAAKgC,OACrDpN,mBAAmB,EACnBE,OAAQsC,aAAaC,QAAQ,WAAayI,GAAehL,OACzDiL,QAAS3I,aAAaC,QAAQ,YAAcyI,GAAeC,QAC3DrR,OAAQ0I,aAAaC,QAAQ,WAAayI,GAAepR,OACzDkF,WAAYwD,aAAaC,QAAQ,eAAiByI,GAAelM,WACjEwB,YAAqD,SAAxCgC,aAAaC,QAAQ,gBAgE9B4K,GAAe,eACfC,GAAa,aACbC,GAAc,cACdC,GAAe,eACfC,GAAsB,sBACtBC,GAAmB,mBAuBVC,GArFQ,WAAuF,IAAtFvO,EAAqF,uDAA7EmM,GAAqBlM,EAAwD,uCAC3G,OAAQA,EAAOZ,MACb,KAAK4O,GAAL,MAC4C/Q,EAAY+C,EAAO9C,QAAQnC,MAA9DmC,EADT,EACSA,QAASc,EADlB,EACkBA,WAAYV,EAD9B,EAC8BA,WAC5B,OAAOJ,GAAWc,GAAcV,EAAzB,2BACCyC,GADD,IACQ7C,QAASA,EAAQ,GAAIc,aAAYV,aAAYqD,mBAAmB,IADxE,2BAECZ,GAFD,IAEQY,mBAAmB,IAEpC,KAAKsN,GAAL,MAC+BjO,EAAOuO,IAAI9C,MAAM,KADhD,oBACS9L,EADT,KACqBlF,EADrB,KAEE,MAAmB,SAAfkF,EAA8BI,GAClCoD,aAAaqB,QAAQ,aAAc7E,GACnCwD,aAAaqB,QAAQ,SAAU/J,GACxB,2BAAIsF,GAAX,IAAkBJ,aAAYlF,YAEhC,KAAKyT,GAEH,OADA/K,aAAaqB,QAAQ,SAAUxE,EAAOxF,KAC/BwF,EAAOxF,IAAP,2BAAiBuF,GAAjB,IAAwBc,OAAQb,EAAOxF,MAAOuF,EAEvD,KAAKoO,GACH,IAAMK,EAAUzO,EAAMzC,WAAW1C,IAAIoF,EAAOxF,KAG5C,YAFgBkN,IAAZ8G,GACFrL,aAAaqB,QAAQ,UAAWgK,GAC3BA,EAAO,2BAAOzO,GAAP,IAAc+L,QAAS0C,IAAWzO,EAElD,KAAKqO,GAKH,OAJAjL,aAAasL,WAAW,UACxBtL,aAAasL,WAAW,cACxBtL,aAAasL,WAAW,UACxBtL,aAAasL,WAAW,WACjB,2BACF1O,GADL,IAEEc,OAAQgL,GAAehL,OACvBpG,OAAQoR,GAAepR,OACvBkF,WAAYkM,GAAelM,aAG/B,KAAK0O,GAEH,OADAlL,aAAaqB,QAAQ,cAAekK,QAAQ3O,EAAMoB,cAC9CpB,EAAMoB,YACD,2BAAIpB,GAAX,IAAkBoB,aAAa,IAC5B,2BAAWpB,GAAX,IAAkBoB,aAAa,IAEtC,QACE,OAAOpB,IC1KP4O,G,uKACJ,WACOrG,KAAKC,MAAMrL,QAAQ1C,KACtB8N,KAAKC,MAAMqG,e,oBAGf,WACE,OACE,eAAC,GAAD,CACE1R,QAASoL,KAAKC,MAAMrL,QACpBc,WAAYsK,KAAKC,MAAMvK,WACvB2C,kBAAmB2H,KAAKC,MAAM5H,kBAC9BjC,kBAAmB4J,KAAKC,MAAM7J,kBAC9BmC,OAAQyH,KAAKC,MAAM1H,OAGnBE,QAASuH,KAAKC,MAAMxH,QACpBtG,OAAQ6N,KAAKC,MAAM9N,OACnBkF,WAAY2I,KAAKC,MAAM5I,WACvBwB,YAAamH,KAAKC,MAAMpH,YAExBkK,0BAA2B/C,KAAKC,MAAM8C,0BACtCC,UAAWhD,KAAKC,MAAM+C,UACtBC,UAAWjD,KAAKC,MAAMgD,UACtBC,yBAA0BlD,KAAKC,MAAMiD,+B,GAxBdhD,aA4ChBC,gBAdE,SAAC1I,GAAD,MAA2B,CAC1C7C,QAASsD,EAAcT,GACvB/B,WAAYuD,GAAiBxB,GAC7BY,kBAAmBD,EAAwBX,GAC3CrB,kBAAmB6B,EAAwBR,GAC3Cc,OAAQD,GAAab,GAGrBgB,QAASD,GAAcf,GACvBtF,OAAQuG,GAAajB,GACrBJ,WAAYsB,GAAiBlB,GAC7BoB,YAAaD,GAAkBnB,MAGA,CAC/B6O,WDyJwB,yDAAM,WAAOhP,GAAP,eAAA9B,EAAA,sEACPtC,IADO,OACxBV,EADwB,OAE9B8E,EATgE,CAACR,KAAM4O,GAAc9Q,QASjEpC,IAFU,2CAAN,uDCxJxBuQ,0BD4JuC,SAAC7Q,EAAaC,EAAgBkF,GAA9B,OAAqD,SAACC,GAC7FA,EAASF,EAAelF,EAAKC,EAAQkF,IACrCC,EAVwB,SAACpF,GAAD,MAAoC,CAAC4E,KAAM+O,GAAc3T,OAUxEqU,CAAWrU,MC7JpB8Q,UDiJuB,SAACiD,GAAD,MAAmC,CAACnP,KAAM6O,GAAYM,QChJ7EhD,UDiJuB,SAAC/Q,GAAD,MAAmC,CAAC4E,KAAM8O,GAAa1T,QChJ9EgR,yBD6JsC,yDAAM,WAAO5L,GAAP,SAAA9B,EAAA,sDAC5C8B,EAASF,EAAemM,GAAehL,OAAQgL,GAAepR,OAAQoR,GAAelM,aACrFC,EAb+D,CAACR,KAAMgP,KAW1B,2CAAN,wDClKzB3F,CAMZkG,I,8DCnDGG,GAAU,CACd,uRACA,gHACA,uMA4EaC,GAzEe,SAAC,GAGM,EAFJ5N,YAEK,IAFQ6N,EAET,EAFSA,eAAgBnO,EAEzB,EAFyBA,OAAQpG,EAEjC,EAFiCA,OAAQkF,EAEzC,EAFyCA,WAAYrC,EAErD,EAFqDA,WAAYgE,EAEjE,EAFiEA,kBACrEX,EACI,EADJA,kBACI,EAEHsC,IAAMC,SAA6B,MAFhC,oBAE5B8F,EAF4B,KAElBC,EAFkB,KAG7BwB,EAAOC,QAAQ1B,GAKfiG,EAAc,WAClBhG,EAAY,OAKRiG,EAAe5R,EAAW1C,IAAIiG,GAChCvD,EACC1C,IAAIiG,GACJ3E,QAAQ,qJAA8B,sBACtCA,QAAQ,oRAAoD,4BAC5DA,QAAQ,uKAAiC,sBACzCA,QAAQ,2JAA+B,sBACxCiH,aAAaC,QAAQ,WAEzB,OACE,uBAAK3B,UAAWC,KAAQyN,OAAxB,UACE,uBAAK1N,UAAWC,KAAQ0N,QAAxB,UACE,sBAAKC,IC5CE,6oED4CSC,QAAQ,OAAOC,IAAI,KACnC,sBAAK9N,UAAS,yBAAoBC,KAAQ8N,YAAcjL,QAhBpC,WACxByK,KAeI,wBAGCrO,EACG,eAAC,GAAD,IACA,uBAAKc,UAAWC,KAAQ+N,aAAxB,UACF,sGAAiBP,KACjB,wEAAY5N,EAAkB1G,IAAlB,UAAyB+E,EAAzB,YAAuClF,aAGvD,sBAAKgH,UAAWC,KAAQgO,aAAxB,SACE,iOAEF,iCACE,6GAEA,eAACC,GAAA,EAAD,CACE1L,aAAW,OACXiG,gBAAc,YACd0F,gBAAc,OACdrL,QA1CY,SAAC6F,GACnBnB,EAAYmB,EAAMC,gBAqCd,SAME,eAAC,KAAD,MAEF,eAACE,GAAA,EAAD,CACEhH,GAAG,YACHyF,SAAUA,EACVwB,aAAW,EACXC,KAAMA,EACNE,QAASsE,EALX,SAOGH,GAAQzT,KAAI,SAACwU,GAAD,OACX,eAACC,GAAA,EAAD,CAAuB5G,SAAqB,UAAX2G,EAAoBtL,QAAS0K,EAA9D,SACGY,GADYA,eEpErBE,G,uKACJ,c,oBAGA,WACE,OACE,eAAC,GAAD,CACE5O,YAAamH,KAAKC,MAAMpH,YACxBN,OAAQyH,KAAKC,MAAM1H,OACnBpG,OAAQ6N,KAAKC,MAAM9N,OACnBkF,WAAY2I,KAAKC,MAAM5I,WACvBrC,WAAYgL,KAAKC,MAAMjL,WACvBgE,kBAAmBgH,KAAKC,MAAMjH,kBAC9BX,kBAAmB2H,KAAKC,MAAM5H,kBAE9BqO,eAAgB1G,KAAKC,MAAMyG,qB,GAfL/L,IAAMuF,WA+BrBC,gBAVE,SAAC1I,GAAD,MAAiB,CAChCoB,YAAaD,GAAkBnB,GAC/Bc,OAAQD,GAAab,GACrBtF,OAAQuG,GAAajB,GACrBJ,WAAYsB,GAAiBlB,GAC7BzC,WAAY8D,GAAiBrB,GAC7BuB,kBAAmBD,GAAwBtB,GAC3CY,kBAAmBD,EAAwBX,MAGZ,CAC/BiP,eJqK4B,iBAA6B,CAAC5P,KAAMiP,MItKnD5F,CAEZsH,ICvBYC,OAbf,WACE,OACE,uBAAKvO,UAAWC,IAAQuO,UAAxB,UACE,oCACE,eAAC,GAAD,IACA,eAAC,GAAD,OAGF,eAAC,GAAD,QCJSC,GAFMzH,aAAQ,iBAAO,KAAK,GAApBA,CAAwBuH,I,6BCFvCG,GAAcC,2BAAgB,CAClC3P,QAAS6N,GACTpO,QAASJ,IAQIuQ,GALDC,uBAAYH,GAAaI,+BAAoBC,2BAAgBC,QCJ3EC,IAASC,OACP,eAAC,IAAMC,WAAP,UACE,eAAC,IAAD,CAAUP,MAAOA,GAAjB,SACE,eAAC,GAAD,QAGJQ,SAASC,eAAe,U,mBCZ1B/W,EAAOC,QAAU,CAAC,OAAS,sBAAsB,UAAY,yBAAyB,gBAAkB,+BAA+B,cAAgB,6BAA6B,aAAe,4BAA4B,UAAY,yBAAyB,0BAA4B,4C","file":"static/js/main.ba7d5d11.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__3HLis\",\"leftNav\":\"Navbar_leftNav__2PhaL\",\"filterIcon\":\"Navbar_filterIcon__2uWL6\",\"aboutFilters\":\"Navbar_aboutFilters__2PpWf\",\"generalTitle\":\"Navbar_generalTitle__3gamN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"graphs\":\"Widgets_graphs__2wkNx\",\"secondMain\":\"Widgets_secondMain__1gbmS\",\"headCircularBar\":\"Widgets_headCircularBar__r21vO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__XuNDS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"graphs\":\"CircularBar_graphs__1KmeL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters\":\"Filters_filters__C8k_3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fetchError\":\"FetchError_fetchError__3Y41Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"kpkTable\":\"KPKTable_kpkTable__3CCKs\",\"cell\":\"KPKTable_cell__2I1Ye\",\"tableContainer\":\"KPKTable_tableContainer__10Mws\",\"clickable\":\"KPKTable_clickable__5_7JQ\",\"iconCheckBox\":\"KPKTable_iconCheckBox__BsSEa\",\"tableHead\":\"KPKTable_tableHead__7uiHG\",\"textAroundSwitcher\":\"KPKTable_textAroundSwitcher__3JdDD\"};","import {AxiosResponse} from \"axios\";\n\nconst axios = require('axios').default;\nconst instance = axios.create({\n  // baseURL: \"http://10.248.40.236:7755/api/\", // prod mode\n  baseURL: \"http://localhost:4000/\",\n});\n\nexport const widgetsAPI = {\n  getKPK: (oid: string, period: string, period_type: string, serviceOid: number) => {\n    // const payload = {\n    //   \"org_oid\": +oid,\n    //   \"srv_oid\": serviceOid,\n    //   \"period\": period,\n    //   \"period_type\": period_type,\n    //   \"ktl\": {\n    //     \"ka_atr\": \"ka\", // or mct \n    //     \"ktl_oid\": 281586771165316,\n    //   },\n    //   \"val\": \"percent\",\n    // };\n    return instance\n      .get(`kpk`)\n      // .post(`kpk`, payload) // prod mode\n      .then((response: AxiosResponse) => response.data)\n      .catch(() => {});\n  },\n  getWidgets: (oid: string, period: string, period_type: string, numSC: number[], numTodays: number[], numTops: number[]) => {\n    // const payload = {\n    //   \"org_oid\": +oid,\n    //   \"srv_oid\": 0,\n    //   \"period\": period,\n    //   \"period_type\": period_type,\n    //   \"ktl\": {\n    //     \"ka_atr\": \"ka\", // or mct \n    //     \"ktl_oid\": 281586771165316,\n    //   },\n    //   \"val\": \"percent\",\n    // };\n    return axios.all([\n      ...numSC.map(num => instance.get(`sc/${num}`).catch(() => {})),\n      ...numTodays.map(num => instance.get(`today/${num}`).catch(() => {})),\n      ...numTops.map(num => instance.get(`top/${num}`).catch(() => {})),\n      instance.get(`kpk`).catch(() => {})\n      // ...numSC.map(num => instance\n      //   .post(`sc/${num}`, payload)\n      //   .catch(() => {})\n      // ), // prod mode\n      // ...numTodays.map(num => instance\n      //   .post(`today/${num}`, payload)\n      //   .catch(() => {})\n      // ), // prod mode\n      // ...numTops.map(num => instance.get(`top/${num}`).catch(() => {})),\n      // instance.post(`kpk`, payload).catch(() => {}), // prod mode\n    ])\n      .then((response: AxiosResponse[]) => response.map(res => res ? res.data : res));\n  },\n  /*\n    getINF: () => {\n        return instance\n          .get(`inf`)\n          .then((response: AxiosResponse) => response.data);\n      },\n  */\n};\nexport const filtersAPI = {\n  getOrg: () => {\n    return instance\n    // .get('/sprav/org_all') // prod mode\n      .get('sprav_org_all')\n      .then((response: AxiosResponse) => response.data);\n  }\n};\n","import {GraphType, RawKPKType, TodaysType} from \"./widgets-reducer\";\nimport {OrgListType} from \"./filters-reducer\";\n\n// Widgets\nexport const PipeKPK = (kpk: RawKPKType) => {\n  const parsedKPK = [];\n  // идем по строкам сервисов\n  for (let i = 0; i < kpk.data.length; i++) {\n    const currObj: any = {};\n\n    // идем по элеентам в строках\n    for (let j = 0; j < kpk.name_col.length; j++) {\n      //пропускаем оид в каждой строке\n      if (j === 0)\n        currObj[kpk.name_col[j]] = kpk.data[i][j];\n      else {\n        //конвертируем в стринг значения для построения таблицы кпк\n        if (typeof kpk.data[i][j] === 'number')\n          kpk.data[i][j] += '';\n\n        let currVal = kpk.data[i][j].replace(/,/, \".\");\n\n        currObj[kpk.name_col[j]] = +currVal && +currVal % 1\n          ? (+currVal).toFixed(2)\n          : +currVal\n            ? +currVal\n            : currVal;\n      }\n    }\n    parsedKPK.push(currObj);\n  }\n\n  return {cols: kpk.name_col, rows: parsedKPK};\n};\nexport const PipeGraph = (graphs: GraphType[]) => {\n  if (!graphs) return [];\n  for (let i in graphs) {\n    if (!graphs[i]) {\n      graphs[i] = {title: 'Ошибка при загрузке', data: []};\n      continue;\n    }\n\n    const graph = graphs[i];\n    for (let i in graph.data) {\n      if (graph.data.hasOwnProperty(i) && graph.data[i]['p'] <= 1)\n        graph.data[i]['p'] = +(graph.data[i]['p'] * 100).toFixed(2);\n    }\n  }\n\n  return graphs\n};\nexport const PipeTodays = (todays: Array<TodaysType>) => {\n  for (let i in todays) {\n    if (todays.hasOwnProperty(i) && (todays[i].v1 === null || todays[i].p === null))\n      todays[i] = {title: \"Ошибка при загрузке\", v1: 0, p: 0, err: true};\n    else if (todays[i].p <= 1)\n      todays[i].p = +(todays[i].p * 100).toFixed(1);\n  }\n  return todays;\n};\n\n// filters\nexport const PipeOrgList = (orgList: Array<OrgListType>)=> {\n  if (!orgList || !orgList[0] || orgList[0]?.oid !== 281586771165316) return {};\n\n  const orgPosition = new Map(orgList.map((el: any, i: any) => [el['oid'], i]));\n  const orgMapList = new Map([['281586771165316', \"ООО ОСК ИнфоТранс\"]]);\n\n  for (let i = orgList.length - 1; i > 0; i--) {\n    orgMapList.set(orgList[i].oid + '', orgList[i].name);\n    const parentInList = orgPosition.get(orgList[i].parent);\n    if (!orgList[parentInList]['children']) orgList[parentInList]['children'] = [];\n    // @ts-ignore\n    orgList[parentInList]['children'] = [...orgList[parentInList]['children'], orgList[i]]\n  }\n\n  for (let org of orgList) {\n    org.oid += '';\n    org.parent += '';\n  }\n\n  for (let org of orgList) {\n    if (org?.children?.length)\n      org.children.sort((a: any, b: any) => a.name > b.name ? 1 : -1)\n  }\n\n  const altOrgList = JSON.parse(JSON.stringify(orgList[0]));\n\n  for (let i = altOrgList.children.length - 1; altOrgList.name && i >= 0; i--) {\n    if (!altOrgList.children[i].zno)\n      altOrgList.children.splice(i, 1);\n  }\n\n  return {orgList, altOrgList, orgMapList};\n};\n","import {widgetsAPI} from \"../../API/API\";\nimport {PipeKPK, PipeGraph, PipeTodays} from \"./pipes\";\n\ntype ActionsWidgetsType = {\n  type: string\n  kpk: RawKPKType\n  kpkChild: RawKPKType\n  sc: Array<GraphType>\n  tops: Array<GraphType>\n  todays: Array<TodaysType>\n}\ntype InitialStateWidgetsType = typeof initialStateWidgets;\nexport type RawKPKType = {\n  name_col: [string, string, string, string]\n  data: Array<[number, string, any, number]>\n}\nexport type KPKType = {\n  cols: [string, string, string, string]\n  rows: Array<KPKRowsType>\n} | {}\ntype KPKRowsType = {\n  Период: string\n  Сегодня: string\n  Сервис_oid: number\n  Услуга: string\n}\nexport type GraphType = {\n  id?: number\n  title: string\n  data: Array<GraphElementsType>\n};\ntype GraphElementsType = {\n  d: string\n  v1: number\n  v2: number\n  p: number\n};\nexport type TodaysType = { title: string, v1: number, p: number, err: boolean };\n\nlet initialStateWidgets = {\n  kpk: {} as KPKType,\n  kpkChild: {} as KPKType,\n  sc: [] as Array<GraphType>,\n  tops: [] as Array<GraphType>,\n  todays: [] as Array<TodaysType>,\n  isFetchingWidgets: true as boolean,\n  /*inf: [\n    [\n      \"Чистая прибыль\",\n      \"100М\"\n    ],\n    [\n      \"EBITDA\",\n      \"100М\"\n    ],\n    [\n      \"Удовлетворенность клиентов\",\n      \"99%\"\n    ],\n    [\n      \"Рентабельность\",\n      \"100%\"\n    ],\n    [\n      \"ROIC\",\n      \"100%\"\n    ],\n    [\n      \"Производительность труда\",\n      \"100K|P\"\n    ],\n    [\n      \"KPI\",\n      \"100%\"\n    ]\n  ],*/\n  /* srvOid: 0,*/\n};\n\nconst widgetsReducer = (state = initialStateWidgets, action: ActionsWidgetsType): InitialStateWidgetsType => {\n  switch (action.type) {\n    case SET_KPK:\n      const kpk = (action.kpk)\n        ? PipeKPK(action.kpk)\n        : {cols: [\"Сервис_oid\", \"Ошибка при загрузке\"], rows: []};\n      return {...state, kpk};\n\n    case SET_KPK_CHILD:\n      const kpkChild = (action.kpkChild)\n        ? PipeKPK(action.kpkChild)\n        : {cols: [\"\\u0421\\u0435\\u0440\\u0432\\u0438\\u0441_oid\", \"Ошибка при загрузке\"], rows: []};\n      return {...state, kpkChild};\n\n    case SET_SC:\n      return action.sc.length ? {...state, sc: PipeGraph(action.sc)} : state;\n\n    case SET_TOPS:\n      return action.tops.length ? {...state, tops: PipeGraph(action.tops)} : state;\n\n    case SET_TODAY:\n      return action.todays.length ? {...state, todays: PipeTodays(action.todays)} : state;\n\n    case SET_IS_FETCHING_WIDGETS_STARTED:\n      return {...state, isFetchingWidgets: true};\n\n    case SET_IS_FETCHING_WIDGETS_ENDED:\n      return {...state, isFetchingWidgets: false};\n\n    case REMOVE_KPK_CHILD:\n      return {...state, kpkChild: {}};\n\n    default:\n      return state;\n  }\n};\n\n// action creators types\ntype SetKPKACType = { type: typeof SET_KPK, kpk: object };\ntype SetKPKChildACType = { type: typeof SET_KPK_CHILD, kpkChild: object };\ntype SetSCACType = { type: typeof SET_SC, sc: object[] };\ntype SetTodaysACType = { type: typeof SET_TODAY, todays: object[] };\ntype SetTopsACType = { type: typeof SET_TOPS, tops: object[] };\ntype SetIsFetchingWidgetsStartedACType = { type: typeof SET_IS_FETCHING_WIDGETS_STARTED };\ntype SetIsFetchingWidgetsEndedACType = { type: typeof SET_IS_FETCHING_WIDGETS_ENDED };\ntype RemoveKPKChildACType = { type: typeof REMOVE_KPK_CHILD };\n\n// action types\nconst SET_KPK = \"SET_KPK\";\nconst SET_KPK_CHILD = \"SET_KPK_CHILD\";\nconst SET_SC = \"SET_SC\";\nconst SET_TODAY = \"SET_TODAY\";\nconst SET_TOPS = \"SET_TOPS\";\nconst SET_IS_FETCHING_WIDGETS_STARTED = \"SET_IS_FETCHING_WIDGETS_STARTED\";\nconst SET_IS_FETCHING_WIDGETS_ENDED = \"SET_IS_FETCHING_WIDGETS_ENDED\";\nconst REMOVE_KPK_CHILD = 'REMOVE_KPK_CHILD';\n\n// action creators\nexport const setKPK = (kpk: RawKPKType): SetKPKACType => ({type: SET_KPK, kpk});\nexport const setKPKChild = (kpkChild: RawKPKType): SetKPKChildACType => ({type: SET_KPK_CHILD, kpkChild});\nexport const setSC = (sc: Array<GraphType>): SetSCACType => ({type: SET_SC, sc});\nexport const setTops = (tops: Array<GraphType>): SetTopsACType => ({type: SET_TOPS, tops});\nexport const setTodays = (todays: Array<TodaysType>): SetTodaysACType => ({type: SET_TODAY, todays});\nexport const setIsFetchingWidgetsStarted = (): SetIsFetchingWidgetsStartedACType => ({type: SET_IS_FETCHING_WIDGETS_STARTED});\nexport const setIsFetchingWidgetsEnded = (): SetIsFetchingWidgetsEndedACType => ({type: SET_IS_FETCHING_WIDGETS_ENDED});\nexport const removeKPKChild = (): RemoveKPKChildACType => ({type: REMOVE_KPK_CHILD});\n\n// thunks\nexport const requestWidgets = (\n  oid: string, period: string, periodType: string, numSC: number[] = [1, 2, 3], numTodays: number[] = [1, 2, 3], numTops: number[] = [1, 2]\n) => async (dispatch: any) => {\n  dispatch(setIsFetchingWidgetsStarted());\n  const response = await widgetsAPI.getWidgets(oid, period, periodType, numSC, numTodays, numTops);\n  dispatch(setSC(response.splice(0, numSC.length)));\n  dispatch(setTodays(response.splice(0, numTodays.length)));\n  dispatch(setTops(response.splice(0, numTops.length)));\n  dispatch(setKPK(response.pop()));\n  dispatch(setIsFetchingWidgetsEnded());\n};\nexport const requestKPKChild = (oid: string, period: string, periodType: string, serviceOid: number) => async (dispatch: any) => {\n  const responseKPKChild = await widgetsAPI.getKPK(oid, period, periodType, serviceOid);\n  dispatch(setKPKChild(responseKPKChild));\n};\n\nexport default widgetsReducer;\n","import {RootStateType} from \"./store\";\n\n//widgets\nexport const selectKPK = (state: RootStateType) => state.widgets.kpk;\nexport const selectKPKChild = (state: RootStateType) => state.widgets.kpkChild;\nexport const selectSC = (state: RootStateType) => state.widgets.sc;\nexport const selectTops = (state: RootStateType) => state.widgets.tops;\nexport const selectTodays = (state: RootStateType) => state.widgets.todays;\n/*\nexport const selectInf = (state: any) => {\n  const {inf} = state.widgets;\n  const parsedInf: object[] = [];\n\n  if (!inf) return {};\n\n  for (let i = 0; i < inf.length; i++) {\n    parsedInf.push({name: inf[i][0], value: inf[i][1]})\n  }\n  return parsedInf;\n};\n*/\nexport const selectIsFetchingWidgets = (state: RootStateType) => state.widgets.isFetchingWidgets;\n\n//filters\nexport const selectOrgList = (state: RootStateType) => state.filters.orgList;\nexport const selectIsFetchingFilters = (state: RootStateType) => state.filters.isFetchingFilters;\nexport const selectOrgOid = (state: RootStateType) => state.filters.orgOid;\n// export const selectKTL = (state: any) => state.filters.ktl;\n// export const selectVal = (state: any) => state.filters.val;\nexport const selectPerList = (state: RootStateType) => state.filters.perList;\nexport const selectPeriod = (state: RootStateType) => state.filters.period;\nexport const selectPeriodType = (state: RootStateType) => state.filters.periodType;\nexport const selectShowFilters = (state: RootStateType) => state.filters.showFilters;\nexport const selectOrgMapList = (state: RootStateType) => state.filters.orgMapList;\nexport const selectPeriodNameMapList = (state: RootStateType) => state.filters.periodNameMapList;\nexport const selectAltOrgList = (state: RootStateType) => state.filters.altOrgList;\n","import React from \"react\";\nimport classes from './Preloader.module.scss'\n\nexport const Preloader = () => <div className={classes.preloader}>Идет загрузка...</div>;\n","import React, {FC} from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport classes from \"./KPKTable.module.scss\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport {Preloader} from \"../../Common/Preloader/Preloader\";\nimport Switch from \"@material-ui/core/Switch/Switch\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel/FormControlLabel\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\n\nconst CheckedValueKPK: React.FC<any> = ({hidden, requestSetHiddenUnusedKPK}) => {\n  const useStyles = makeStyles(() => ({\n      toggle: {\n        '& .Mui-checked + .MuiSwitch-track': {\n          backgroundColor: '#52d869'\n        },\n      },\n    })\n  );\n\n  const classesMUI = useStyles();\n\n  return (\n    <span className={classes.clickable}>{\n      <FormControlLabel\n        control={\n          <Switch\n            size=\"medium\"\n            checked={hidden}\n            onChange={() => requestSetHiddenUnusedKPK()}\n            color=\"default\"\n            className={classesMUI.toggle}\n          />}\n        labelPlacement=\"start\"\n        label={<span className={`${classes.textAroundSwitcher} ${classes.tableHead}`}>Все услуги / Услуги с ЗНО</span>}\n      />\n    }</span>\n  )\n};\n\nconst KPKTable: FC<any> = ({requestKPKChild, removeKPKChild, orgOid, period, periodType, kpk}) => {\n  const [hiddenUnusedKPK, setHiddenUnusedKPK] = React.useState(localStorage.getItem('KPKRowHidden') === \"1\" || false);\n  const {cols, rows} = kpk;\n\n  if (!cols.length) return <Preloader/>;\n  const [id, colsHead, value] = cols;\n\n  const requestSetHiddenUnusedKPK = () => {\n    localStorage.setItem('KPKRowHidden', hiddenUnusedKPK ? \"0\" : '1');\n    setHiddenUnusedKPK(!hiddenUnusedKPK);\n  };\n  return (\n    <div className={classes.kpkTable}>\n      <TableContainer component={Paper} className={classes.tableContainer}>\n        <Table size=\"small\" stickyHeader aria-label=\"a dense table\">\n          <TableHead>\n            <TableRow>\n              <TableCell className={classes.cell}>\n                <div className={classes.tableHead}>\n                  {colsHead === 'Услуга' || colsHead === 'Ошибка при загрузке'\n                    ? <span>{colsHead}</span>\n                    : <span className={classes.tableHead}>\n                      <CloseIcon fontSize='small' onClick={removeKPKChild}/>\n                      {colsHead}\n                    </span>\n                  }\n                  <CheckedValueKPK hidden={hiddenUnusedKPK} requestSetHiddenUnusedKPK={requestSetHiddenUnusedKPK}/>\n                </div>\n              </TableCell>\n              <TableCell align=\"right\" className={classes.cell}>{value}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row: any) => (\n              <TableRow key={row[id]}\n                        style={row[value] === '-' && hiddenUnusedKPK ? {display: 'none'} : {}}\n                        className={\n                          row[value] !== '-' && colsHead === 'Услуга'\n                            ? classes.clickable\n                            : ''\n                        }\n                        onClick={\n                          row[value] !== '-' && colsHead === 'Услуга'\n                            ? () => {\n                              requestKPKChild(orgOid, period, periodType, row[id])\n                            }\n                            : () => {\n                            }\n                        }>\n                <TableCell component=\"th\" scope=\"row\" className={classes.cell}>{\n                  row[colsHead]\n                }</TableCell>\n                <TableCell align=\"right\" className={classes.cell}>{\n                  row[value]\n                }</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  )\n};\n\nexport default KPKTable;\n","import React from \"react\";\nimport classes from \"./Graph.module.scss\";\nimport {ComposedChart, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend, Line} from 'recharts';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\n\n// @ts-ignore\nconst CheckedValueGraph: React.FC<any> = ({description, hidden, hideLineClick, line}) => {\n  if (description === '') return '';\n\n  return (\n    <h3 className={classes.checkBoxGroup} onClick={() => hideLineClick(line)}>{description} {!hidden\n      ? <CheckBoxIcon className={classes.iconCheckBox} color='action' fontSize='small'/>\n      : <CheckBoxOutlineBlankIcon className={classes.iconCheckBox} color='action' fontSize='small'/>}\n    </h3>\n  )\n};\n\nconst Graph: React.FC<any> = ({sc, extendedStyle = {}}) => {\n  const {title, data} = sc;\n  const showValueLine = sc?.data?.length && sc.data[0].v1;\n  const showPercentLine = sc?.data?.length && !sc.data[0].p;\n  const [hiddenVal, setHiddenVal] = React.useState(localStorage.getItem(`hiddenValSC-${title}`) === \"1\" || false);\n  const [hiddenProc, setHiddenProc] = React.useState(localStorage.getItem(`hiddenProcSC-${title}`) === \"1\" || false);\n\n  const hideLineClick = (line: string) => {\n    if (line === 'v1') {\n      localStorage.setItem(`hiddenValSC-${title}`, hiddenVal ? \"0\" : '1');\n      setHiddenVal(!hiddenVal);\n    }\n    if (line === 'p') {\n      localStorage.setItem(`hiddenProcSC-${title}`, hiddenProc ? \"0\" : '1');\n      setHiddenProc(!hiddenProc);\n    }\n  };\n\n  return (\n    <div className={classes.graphs} style={extendedStyle}>\n      <ResponsiveContainer>\n        <ComposedChart data={data} margin={{\n          top: -10\n        }}>\n          <XAxis dataKey=\"d\"/>\n          <YAxis style={hiddenVal ? {display: 'none'} : {}}\n                 yAxisId=\"left\"\n                 domain={['dataMin', 'dataMax']}\n                 tickCount={5}\n                 stroke='#8884d8'/>\n          <YAxis style={hiddenProc ? {display: 'none'} : {}}\n                 tickFormatter={tick => `${(Math.round(tick * 10) / 10)}`}\n                 yAxisId=\"right\"\n                 orientation='right'\n                 tickCount={5}\n                 axisLine={false}\n                 domain={['dataMin', 'dataMax']}\n                 stroke='#82ca9d'/>\n          <Tooltip formatter={(value: any, name: any) => ([`${value}${name === 'p' ? \" %\" : \" шт\"}`])}/>\n          <CartesianGrid strokeDasharray=\"3 3\"/>\n          <Line style={hiddenVal ? {display: 'none'} : {}}\n                yAxisId=\"left\"\n                type='monotone'\n                dataKey='v1'\n                stroke='#8884d8'\n                strokeWidth={3}/>\n          <Line style={hiddenProc ? {display: 'none'} : {}}\n                yAxisId=\"right\"\n                type=\"monotone\"\n                dataKey='p'\n                stroke='#82ca9d'\n                strokeWidth={3}/>\n          <Legend iconSize={0}\n                  verticalAlign=\"top\"\n                  formatter={(line) => (<div className={classes.headGraph}>\n                      <h3 className={line === 'v1' ? classes.titleName : classes.hiddenTitleName}>{title}&emsp;</h3>\n                      {line === 'v1'\n                        ? <CheckedValueGraph\n                          description={showValueLine || (showValueLine && showPercentLine) !== undefined ? 'значение' : \"\"}\n                          hidden={hiddenVal} line={line}\n                          hideLineClick={hideLineClick}/>\n                        : <CheckedValueGraph\n                          description={showPercentLine || (showValueLine && showPercentLine) !== undefined ? '%' : ''}\n                          hidden={hiddenProc}\n                          line={line}\n                          hideLineClick={hideLineClick}/>}\n                    </div>\n                  )}/>\n        </ComposedChart>\n      </ResponsiveContainer>\n    </div>\n  )\n};\n\nexport default Graph;\n","import React from \"react\"\nimport classes from './CircularBar.module.scss'\nimport {buildStyles, CircularProgressbarWithChildren} from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\n\nconst CircularBar: React.FC<any> = ({today, diff, err}) => {\n  return (\n    <div className={classes.graphs}>\n      <CircularProgressbarWithChildren\n        value={diff}\n        styles={buildStyles({\n          pathColor: 'rgb(136, 132, 216)'\n        })}>\n        {!err && <h4>{today}</h4>}\n        <strong>{diff}%</strong>\n      </CircularProgressbarWithChildren>\n    </div>\n  )\n};\n\nexport default CircularBar;\n","import React, {FC} from \"react\";\nimport classes from \"./Widgets.module.scss\";\nimport KPKTable from \"./KPKTable/KPKTable\";\nimport Graph from \"./Graph/Graph\";\nimport {Preloader} from \"../Common/Preloader/Preloader\";\nimport CircularBar from \"./CircularBar/CircularBar\";\nimport {GraphType, KPKType, TodaysType} from \"../Redux/widgets-reducer\";\n\ntype PropsType = {\n  kpk: KPKType\n  kpkChild: KPKType\n  sc: Array<GraphType>\n  tops: Array<GraphType>\n  todays: Array<TodaysType>\n  isFetchingWidgets: boolean\n  orgOid: string\n  period: string\n  periodType: string\n\n  requestKPKChild: (orgOid: string, period: string, periodType: string, serviceOid: string) => void\n  removeKPKChild: () => void\n}\n\nconst Widgets: FC<PropsType> = ({\n                                  kpk, sc, isFetchingWidgets, requestKPKChild, removeKPKChild, orgOid, period,\n                                  periodType, kpkChild, todays, tops\n                                }) => {\n  if (isFetchingWidgets) return <Preloader/>;\n\n  return (\n    <div>\n      <main>\n        <KPKTable kpk={kpkChild.hasOwnProperty('rows') ? kpkChild : kpk} requestKPKChild={requestKPKChild}\n                  removeKPKChild={removeKPKChild} orgOid={orgOid} period={period} periodType={periodType}/>\n        <div className={classes.graphs}>\n          <h4 className={classes.headCircularBar}>СЕГОДНЯ</h4>\n          {todays.map((el: TodaysType, i: number) =>\n            <CircularBar title={el.title} today={el.v1} diff={el.p} key={i} err={el.err}/>\n          )}\n        </div>\n        <div className={classes.graphs}>\n          {sc.map((graph: GraphType, i: number) =>\n            <Graph sc={graph} key={i}/>\n          )}\n        </div>\n      </main>\n      <div className={`${classes.secondMain}`}>\n        {tops.map((graph: GraphType, i: number) =>\n          <Graph sc={graph} key={i} extendedStyle={{height: '100%'}}/>\n        )}\n      </div>\n    </div>\n  )\n};\n\nexport default Widgets;\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {\n  requestKPKChild,\n  removeKPKChild,\n  requestWidgets,\n  KPKType,\n  GraphType,\n  TodaysType\n} from \"../Redux/widgets-reducer\";\nimport {\n  /*selectInf, */ selectIsFetchingWidgets, selectKPK, selectOrgOid, selectPeriod,\n  selectPeriodType, selectTodays, selectKPKChild, selectTops, selectSC\n} from \"../Redux/selectors\";\nimport Widgets from \"./Widgets\";\nimport {RootStateType} from \"../Redux/store\";\n\ntype MapStatePropsType = {\n  kpk: KPKType\n  kpkChild: KPKType\n  sc: Array<GraphType>\n  tops: Array<GraphType>\n  todays: Array<TodaysType>\n  isFetchingWidgets: boolean\n  orgOid: string\n  period: string\n  periodType: string\n}\ntype MapDispatchPropsType = {\n  requestWidgets: (oid: string, period: string, periodType: string) => void\n  requestKPKChild: (orgOid: string, period: string, periodType: string, serviceOid: string) => void\n  removeKPKChild: () => void\n}\ntype PropsType = MapStatePropsType & MapDispatchPropsType\n\nclass WidgetsContainer extends Component<PropsType> {\n  componentDidMount() {\n    this.props.requestWidgets(this.props.orgOid, this.props.period, this.props.periodType);\n  }\n\n  render() {\n    return (\n      <Widgets\n        kpk={this.props.kpk}\n        sc={this.props.sc}\n        todays={this.props.todays}\n        tops={this.props.tops}\n        /*\n                inf={this.props.inf}\n        */\n        isFetchingWidgets={this.props.isFetchingWidgets}\n        orgOid={this.props.orgOid}\n        period={this.props.period}\n        periodType={this.props.periodType}\n        kpkChild={this.props.kpkChild}\n\n        requestKPKChild={this.props.requestKPKChild}\n        removeKPKChild={this.props.removeKPKChild}\n      />\n    );\n  }\n}\nconst mapState = (state: RootStateType): MapStatePropsType => ({\n  kpk: selectKPK(state),\n  kpkChild: selectKPKChild(state),\n  sc: selectSC(state),\n  tops: selectTops(state),\n  todays: selectTodays(state),\n  /*\n    inf: selectInf(state),\n  */\n  isFetchingWidgets: selectIsFetchingWidgets(state),\n  orgOid: selectOrgOid(state),\n  period: selectPeriod(state),\n  periodType: selectPeriodType(state),\n});\n\n// @ts-ignore\nexport default connect<MapStatePropsType, MapDispatchPropsType, {}, RootStateType>(mapState, {\n  requestWidgets,\n  requestKPKChild,\n  removeKPKChild\n})(WidgetsContainer);\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport {makeStyles} from '@material-ui/core/styles';\nimport TreeView from '@material-ui/lab/TreeView';\nimport TreeItem from '@material-ui/lab/TreeItem';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nexport type RenderTree = {\n  oid: string\n  name: string\n  children?: RenderTree[]\n}\n\nconst MenuTreeList: React.FC<any> = props => {\n  const {\n    treeList, title,  orgOid, period, periodType, setter, acceptFilters, altTreeList = {}, isFetchingWidgets\n  } = props;\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const [selected, setSelected] = React.useState<string>('');\n  const [checked, setChecked] = React.useState(localStorage.getItem('checkedOrgZNO') === \"1\" || false);\n\n  const useStyles = makeStyles({\n    root: {\n      margin: '.5rem',\n      height: title === \"оргструктура\" ? 400 : 200,\n      flexGrow: 1,\n      width: title === \"оргструктура\" ? 550 : 200,\n      overflow: 'auto',\n    },\n    menu: {\n      margin: `${title === 'оргструктура' ? '4vh' : '9vh'} ${title === 'оргструктура' ? '6vw' : '4vw'}`,\n    },\n    toggle: {\n      '& .Mui-checked + .MuiSwitch-track': {\n        backgroundColor: '#52d869'\n      },\n    },\n  });\n\n  const toggleChecked = () => {\n    localStorage.setItem('checkedOrgZNO', checked ? \"0\" : '1');\n    setChecked(!checked);\n  };\n\n  const handleSelect = (event: React.ChangeEvent<{}>, nodeIds: string) => {\n    setSelected(nodeIds);\n  };\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n\n    if (selected && typeof selected !== \"object\")\n      setter(selected);\n\n    if ((selected && title === 'оргструктура' && selected !== orgOid) || (selected && title === 'период' && selected !== `${periodType}:${period}`))\n      acceptFilters(title, selected);\n  };\n\n  const classes = useStyles();\n\n  const renderTree = (nodes: RenderTree) => (\n    <TreeItem key={nodes.oid} nodeId={nodes.oid} label={nodes.name}>\n      {\n        Array.isArray(nodes.children)\n          ? nodes.children.map((node) => renderTree(node))\n          : null\n      }\n    </TreeItem>\n  );\n\n  return (\n    <div>\n      <Button aria-controls=\"simple-menu\" variant=\"outlined\" onClick={handleClick} disabled={isFetchingWidgets}>\n        {title}\n      </Button>\n      <Menu\n        className={classes.menu}\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        {title === 'оргструктура' &&\n        <FormControlLabel\n            control={<Switch size=\"medium\"\n                             checked={checked}\n                             onChange={toggleChecked}\n                             color=\"default\"\n                             className={classes.toggle}\n            />}\n            labelPlacement=\"start\"\n            label={`Все организации / Организации выполняющие ЗНО`}\n        />}\n        <TreeView\n          className={classes.root}\n          defaultCollapseIcon={<ExpandMoreIcon/>}\n          defaultExpanded={title === 'оргструктура' ? [treeList.oid] : ['root']}\n          defaultExpandIcon={<ChevronRightIcon/>}\n          onNodeSelect={handleSelect}\n        >\n          {title === 'оргструктура' ? (!checked ? renderTree(treeList) : renderTree(altTreeList)) : renderTree(treeList)}\n        </TreeView>\n      </Menu>\n\n    </div>\n  );\n};\n\nexport default MenuTreeList;\n","import React from \"react\";\nimport classes from'./FetchError.module.scss'\n\nexport const FetchError = () => <div className={classes.fetchError}>Произошла ошибка при загрузке данных...</div>;\n","import React from \"react\";\nimport classes from \"./Filters.module.scss\";\nimport {Preloader} from \"../Common/Preloader/Preloader\";\nimport MenuTreeList from \"./Filter-components/MenuTreeList/MenuTreeList\";\nimport {Button} from \"@material-ui/core\";\nimport {FetchError} from \"../Common/FetchError/FetchError\";\n\nconst Filters: React.FC<any> = props => {\n  const {\n    orgList, altOrgList, isFetchingFilters, isFetchingWidgets, orgOid, /*ktl, val,*/ requestWidgetsFromFilters,\n    setPeriod, setOrgOid, perList, period, periodType, requestSetFiltersDefault, showFilters\n  } = props;\n\n  if (!showFilters) return <></>;\n  if (isFetchingFilters) return <Preloader/>;\n\n  const acceptFilters = (type: string = 'def', selected: any = '') => {\n    const [newPeriodType, newPeriod] = type === 'период' ? selected.split(\":\") : ['', ''];\n    requestWidgetsFromFilters(\n      type === 'оргструктура' ? selected : orgOid,\n      type === 'период' ? newPeriod : period,\n      type === 'период' ? newPeriodType : periodType\n    );\n  };\n\n  return (\n    <div className={classes.filters}>\n      {(!orgList || !orgList.oid)\n        ? <FetchError/>\n        : <><MenuTreeList treeList={orgList}\n                          altTreeList={altOrgList}\n                          title={'оргструктура'}\n                          setter={setOrgOid}\n                          orgOid={orgOid}\n                          period={period}\n                          periodType={periodType}\n                          acceptFilters={acceptFilters}\n                          isFetchingWidgets={isFetchingWidgets}\n        />\n          <MenuTreeList treeList={perList}\n                        title={'период'}\n                        orgOid={orgOid}\n                        setter={setPeriod}\n                        period={period}\n                        periodType={periodType}\n                        acceptFilters={acceptFilters}\n                        isFetchingWidgets={isFetchingWidgets}\n          /></>\n      }\n      <Button variant=\"outlined\" onClick={requestSetFiltersDefault} disabled={isFetchingWidgets}>\n        сбросить фильтры\n      </Button>\n    </div>\n  )\n};\n\nexport default Filters;\n","import {filtersAPI} from \"../../API/API\";\nimport {requestWidgets} from \"./widgets-reducer\";\nimport {PipeOrgList} from \"./pipes\";\n\nexport type OrgListType = {\n  oid: any\n  name: string\n  parent: any\n  zno: number\n  children?: Array<OrgListType>\n}\ntype ActionsFiltersType = {\n  type: string\n  orgList: {\n    data: []\n  }\n  oid: string\n  per: string\n};\nexport type InitialStateFiltersType = typeof initialStateFilters;\ntype PeriodListType = {\n  name: string\n  oid: string\n  children?: Array<object>\n};\n\nconst tempPeriodNameMapList = new Map();\nconst createPeriodTree = (st: Date, end: number): PeriodListType => {\n  //получить квартал по номеру месяца (от 0 - янв.)\n  const getQuarter = (month: number) => {\n    return Math.floor((month + 3) / 3);\n  };\n  ///возвращает нумерацию месяцев в квартале (0,1,2 - 1 кв.; 2 кв. - 3,4,5; и т.д.)\n  const getMonths = (q: number) => {\n    let arr = [];\n    for (let i = (q * 3 - 3); i <= (q * 3 - 1); i++)\n      arr.push(i);\n    return arr;\n  };\n  // массив месяцев по-русски\n  const months = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль',\n    'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'];\n  // формат числа с лидирующими нулями\n  const pad = (num: number | string, size: number) => {\n    num = num.toString();\n    while (num.length < size) num = \"0\" + num;\n    return num;\n  };\n  // создаем произвольный узел\n  const createNode = (name: string, oid: string, children: object[]) => {\n    return {\n      name: name,\n      oid: oid,\n      children: children\n    };\n  };\n\n  let d1 = new Date(st);\n  let d2 = new Date(end);\n\n  //создаем корень дерева\n  let rootNode = createNode('Период', 'root', []);\n\n  // перебираем от начального года до конечного\n  for (let y = d1.getFullYear(); y <= d2.getFullYear(); y++) {\n    // type: \"y\"\n    let ny = createNode(y + ' год', `y:${y}-01`, []);\n\n    // сохраняем год в коллекцию названий периодов\n    tempPeriodNameMapList.set(`y:${y}-01`, `${y} год`);\n\n    // для добавления кварталов необходимо понять какой минимальный и максимальный квартал\n    let curr_q1 = (d1.getFullYear() === y ? Math.max(1, getQuarter(d1.getMonth())) : 1);\n    let curr_q2 = (d2.getFullYear() === y ? Math.min(4, getQuarter(d2.getMonth())) : 4);\n\n    // перебираем от начального квартала до конечного\n    for (let q = curr_q1; q <= curr_q2; q++) {\n      // type: \"q\"\n      let nq = createNode(q + ' квартал', `q:${y}-0${q}`, []);\n\n      // сохраняем квартал в коллекцию названий периодов\n      tempPeriodNameMapList.set(`q:${y}-0${q}`, `${y} год - ${q} квартал`);\n\n      //получаем доступные месяцы для выбранного квартала\n      let mm = getMonths(q);\n\n      // для добавления месяцев, необходимо понять какой минимальный и максимальный\n      let curr_m1 = (d1.getFullYear() === y && q === curr_q1 ? Math.max(mm[0], d1.getMonth()) : mm[0]);\n      let curr_m2 = (d2.getFullYear() === y && q === curr_q2 ? Math.min(mm[mm.length - 1], d2.getMonth()) : mm[mm.length - 1]);\n\n      // перебираем от начального месяца до конечного\n      for (let m = curr_m1; m <= curr_m2; m++) {\n        // type: \"m\"\n        let nm = createNode(months[m], `m:${y}-${pad((m + 1), 2)}`, []);\n\n        // сохраняем месяц в коллекцию названий периодов\n        tempPeriodNameMapList.set(`m:${y}-${pad((m + 1), 2)}`, `${y} год - ${months[m]}`);\n\n        //добавляем месяцы\n        nq.children.push(nm);\n      }\n      //добавляем кварталы\n      ny.children.push(nq);\n    }\n    //добавляем годы в корень\n    rootNode.children.push(ny);\n  }\n\n  //возврат всего дерева\n  return rootNode;\n};\nconst defaultFilters = {\n  orgOid: '281586771165316',\n  orgName: \"ООО ОСК ИнфоТранс\",\n  period: `${new Date().getFullYear()}-${new Date().getMonth() - 1 < 10 ? `0${new Date().getMonth() + 1}` : new Date().getMonth() + 1}`,\n  periodType: \"m\",\n};\n\nlet initialStateFilters = {\n  orgList: {} as OrgListType,\n  altOrgList: {} as OrgListType,\n  orgMapList: new Map() as Map<string, string>,\n  periodNameMapList: tempPeriodNameMapList as Map<string, string>,\n  perList: createPeriodTree(new Date(2020, 0, 1), Date.now()) as PeriodListType,\n  isFetchingFilters: true as boolean,\n  orgOid: localStorage.getItem('orgOid') || defaultFilters.orgOid as string,\n  orgName: localStorage.getItem('orgName') || defaultFilters.orgName as string,\n  period: localStorage.getItem('period') || defaultFilters.period as string,\n  periodType: localStorage.getItem('periodType') || defaultFilters.periodType as string,\n  showFilters: localStorage.getItem('showFilters') === 'true' ? true : false as boolean,\n  /*  ktl: {\n      kaAtr: 'ka', // or mct\n      ktlOid: '281586771165316',\n    },*/\n};\n\nconst filtersReducer = (state = initialStateFilters, action: ActionsFiltersType): InitialStateFiltersType => {\n  switch (action.type) {\n    case SET_ORG_LIST:\n      const {orgList, altOrgList, orgMapList} = PipeOrgList(action.orgList.data);\n      return orgList && altOrgList && orgMapList\n        ? {...state, orgList: orgList[0], altOrgList, orgMapList, isFetchingFilters: false}\n        : {...state, isFetchingFilters: false};\n\n    case SET_PERIOD:\n      const [periodType, period] = action.per.split(\":\");\n      if (periodType === 'root') return state;\n      localStorage.setItem('periodType', periodType);\n      localStorage.setItem('period', period);\n      return {...state, periodType, period};\n\n    case SET_ORG_OID:\n      localStorage.setItem('orgOid', action.oid);\n      return action.oid ? {...state, orgOid: action.oid} : state;\n\n    case SET_ORG_NAME:\n      const newName = state.orgMapList.get(action.oid);\n      if (newName !== undefined)\n        localStorage.setItem('orgName', newName);\n      return newName ? {...state, orgName: newName} : state;\n\n    case SET_FILTERS_DEFAULT:\n      localStorage.removeItem('orgOid');\n      localStorage.removeItem('periodType');\n      localStorage.removeItem('period');\n      localStorage.removeItem('orgName');\n      return {\n        ...state,\n        orgOid: defaultFilters.orgOid,\n        period: defaultFilters.period,\n        periodType: defaultFilters.periodType\n      };\n\n    case SET_SHOW_FILTERS:\n      localStorage.setItem('showFilters', String(!state.showFilters));\n      if (state.showFilters)\n        return {...state, showFilters: false};\n      else return {...state, showFilters: true};\n\n    default:\n      return state;\n  }\n};\n\n// action creator types\ntype SetOrgListACType = { type: typeof SET_ORG_LIST, orgList: object };\ntype SetPeriodACType = { type: typeof SET_PERIOD, per: string };\ntype SetOrgOidACType = { type: typeof SET_ORG_OID, oid: string };\ntype SetOrgNameACType = { type: typeof SET_ORG_NAME, oid: string };\ntype SetFiltersDefaultACType = { type: typeof SET_FILTERS_DEFAULT };\ntype SetShowFiltersACType = { type: typeof SET_SHOW_FILTERS };\n\n// action types\nconst SET_ORG_LIST = \"SET_ORG_LIST\";\nconst SET_PERIOD = \"SET_PERIOD\";\nconst SET_ORG_OID = \"SET_ORG_OID\";\nconst SET_ORG_NAME = \"SET_ORG_NAME\";\nconst SET_FILTERS_DEFAULT = \"SET_FILTERS_DEFAULT\";\nconst SET_SHOW_FILTERS = \"SET_SHOW_FILTERS\";\n\n// action creators\nexport const setOrgList = (orgList: object): SetOrgListACType => ({type: SET_ORG_LIST, orgList});\nexport const setPeriod = (per: string): SetPeriodACType => ({type: SET_PERIOD, per});\nexport const setOrgOid = (oid: string): SetOrgOidACType => ({type: SET_ORG_OID, oid});\nexport const setOrgName = (oid: string): SetOrgNameACType => ({type: SET_ORG_NAME, oid});\nexport const setFiltersDefault = (): SetFiltersDefaultACType => ({type: SET_FILTERS_DEFAULT});\nexport const setShowFilters = (): SetShowFiltersACType => ({type: SET_SHOW_FILTERS});\n\nexport const requestOrg = () => async (dispatch: any) => {\n  const response = await filtersAPI.getOrg();\n  dispatch(setOrgList(response));\n};\nexport const requestWidgetsFromFilters = (oid: string, period: string, periodType: string) => (dispatch: any) => {\n  dispatch(requestWidgets(oid, period, periodType));\n  dispatch(setOrgName(oid))\n};\nexport const requestSetFiltersDefault = () => async (dispatch: any) => {\n  dispatch(requestWidgets(defaultFilters.orgOid, defaultFilters.period, defaultFilters.periodType));\n  dispatch(setFiltersDefault());\n};\n\nexport default filtersReducer;\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport Filters from \"./Filters\";\nimport {requestOrg, requestWidgetsFromFilters, requestSetFiltersDefault, setOrgOid, setPeriod} from \"../Redux/filters-reducer\";\nimport {\n  selectIsFetchingFilters, /*selectVal, selectKTL,*/ selectOrgList, selectOrgOid, selectPeriod, selectPeriodType,\n  selectPerList, selectShowFilters, selectAltOrgList, selectIsFetchingWidgets\n} from \"../Redux/selectors\";\nimport {RootStateType} from \"../Redux/store\";\n\nclass FiltersContainer extends Component<any> {\n  componentDidMount() {\n    if (!this.props.orgList.oid)\n      this.props.requestOrg()\n  }\n\n  render() {\n    return (\n      <Filters\n        orgList={this.props.orgList}\n        altOrgList={this.props.altOrgList}\n        isFetchingFilters={this.props.isFetchingFilters}\n        isFetchingWidgets={this.props.isFetchingWidgets}\n        orgOid={this.props.orgOid}\n        // ktl={this.props.ktl}\n        // val={this.props.val}\n        perList={this.props.perList}\n        period={this.props.period}\n        periodType={this.props.periodType}\n        showFilters={this.props.showFilters}\n\n        requestWidgetsFromFilters={this.props.requestWidgetsFromFilters}\n        setPeriod={this.props.setPeriod}\n        setOrgOid={this.props.setOrgOid}\n        requestSetFiltersDefault={this.props.requestSetFiltersDefault}\n      />\n    );\n  }\n}\n\nconst mapState = (state: RootStateType) => ({\n  orgList: selectOrgList(state),\n  altOrgList: selectAltOrgList(state),\n  isFetchingFilters: selectIsFetchingFilters(state),\n  isFetchingWidgets: selectIsFetchingWidgets(state),\n  orgOid: selectOrgOid(state),\n  // ktl: selectKTL(state),\n  // val: selectVal(state),\n  perList: selectPerList(state),\n  period: selectPeriod(state),\n  periodType: selectPeriodType(state),\n  showFilters: selectShowFilters(state),\n});\n\nexport default connect(mapState, {\n  requestOrg,\n  requestWidgetsFromFilters,\n  setPeriod,\n  setOrgOid,\n  requestSetFiltersDefault\n})(FiltersContainer);\n","import React from \"react\";\nimport logo from '../../Assets/img/osk_rzd_logo.png'\nimport classes from \"./Navbar.module.scss\";\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport {Preloader} from \"../Common/Preloader/Preloader\";\n\nconst options = [\n  'Ключевые показатели эффективности (текущий дашборд)',\n  'Рейтинг сотрудников',\n  'Статистика по объектам обслуживания'\n];\n\nconst Navbar: React.FC<any> = ({\n                                 showFilters, setShowFilters, orgOid, period, periodType, orgMapList, periodNameMapList,\n                                 isFetchingFilters\n                               }) => {\n\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const changeShowFilters = () => {\n    setShowFilters();\n  };\n  const shortNameOrg = orgMapList.get(orgOid)\n    ? orgMapList\n      .get(orgOid)\n      .replace(/Региональный центр сервиса/, 'РЦС')\n      .replace(/Территориальное управление технической поддержки/, 'ТУТП')\n      .replace(/Отдел поддержки пользователей/, 'ОТП')\n      .replace(/Отдел технической поддержки/, 'ОТП')\n    : localStorage.getItem('orgName');\n\n  return (\n    <div className={classes.navbar}>\n      <div className={classes.leftNav}>\n        <img src={logo} loading='lazy' alt=\"\"/>\n        <div className={`material-icons ${classes.filterIcon}`} onClick={changeShowFilters}>\n          filter_alt\n        </div>\n        {isFetchingFilters\n          ? <Preloader/>\n          : <div className={classes.aboutFilters}>\n          <p>Организация: {shortNameOrg}</p>\n          <p>Период: {periodNameMapList.get(`${periodType}:${period}`)}</p>\n        </div>}\n      </div>\n      <div className={classes.generalTitle}>\n        <h1>Ключевые показатели эффективности</h1>\n      </div>\n      <div>\n        <span>Пользователь</span>\n\n        <IconButton\n          aria-label=\"more\"\n          aria-controls=\"long-menu\"\n          aria-haspopup=\"true\"\n          onClick={handleClick}\n        >\n          <MenuIcon/>\n        </IconButton>\n        <Menu\n          id=\"long-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={open}\n          onClose={handleClose}\n        >\n          {options.map((option) => (\n            <MenuItem key={option} selected={option === 'Pyxis'} onClick={handleClose}>\n              {option}\n            </MenuItem>\n          ))}\n        </Menu>\n\n      </div>\n    </div>\n  )\n};\n\nexport default Navbar;\n\n\n","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport Navbar from \"./Navbar\";\nimport {\n  selectIsFetchingFilters, selectOrgMapList, selectOrgOid, selectPeriod, selectPeriodNameMapList, selectPeriodType,\n  selectShowFilters\n} from \"../Redux/selectors\";\nimport {setShowFilters} from \"../Redux/filters-reducer\";\n\nclass NavbarContainer extends React.Component<any> {\n  componentDidMount() {\n  }\n\n  render() {\n    return (\n      <Navbar\n        showFilters={this.props.showFilters}\n        orgOid={this.props.orgOid}\n        period={this.props.period}\n        periodType={this.props.periodType}\n        orgMapList={this.props.orgMapList}\n        periodNameMapList={this.props.periodNameMapList}\n        isFetchingFilters={this.props.isFetchingFilters}\n\n        setShowFilters={this.props.setShowFilters}\n      />\n    );\n  }\n}\n\nconst mapState = (state: any) => ({\n  showFilters: selectShowFilters(state),\n  orgOid: selectOrgOid(state),\n  period: selectPeriod(state),\n  periodType: selectPeriodType(state),\n  orgMapList: selectOrgMapList(state),\n  periodNameMapList: selectPeriodNameMapList(state),\n  isFetchingFilters: selectIsFetchingFilters(state),\n});\n\nexport default connect(mapState, {\n  setShowFilters\n})(NavbarContainer);\n","import React from 'react';\nimport classes from './App.module.scss';\nimport WidgetsContainer from \"./Components/Widgets/WidgetsContainer\";\nimport FiltersContainer from \"./Components/Filters/FiltersContainer\";\nimport NavbarContainer from \"./Components/Navbar/NavbarContainer\";\n\nfunction App() {\n  return (\n    <div className={classes.container}>\n      <header>\n        <NavbarContainer/>\n        <FiltersContainer/>\n      </header>\n      {/*// @ts-ignore*/}\n      <WidgetsContainer/>\n    </div>\n  );\n}\n\nexport default App;\n","// import {compose} from \"redux\";\n// import {withRouter} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport App from \"./App\";\n\n// для роутинга\n// const mapStateToProps = () => ({});\n// const AppContainer = compose(withRouter, connect(mapStateToProps, {}))(App);\nconst AppContainer = connect(() => ({}), {})(App);\n\nexport default AppContainer;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\nimport widgetsReducer from \"./widgets-reducer\";\nimport filtersReducer from \"./filters-reducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport {composeWithDevTools} from 'redux-devtools-extension';\n\nconst rootReducer = combineReducers({\n  filters: filtersReducer,\n  widgets: widgetsReducer,\n});\n\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunkMiddleware)));\n\nexport type RootStateType = ReturnType<typeof store.getState>;\nexport type DispatchType = typeof store.dispatch;\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport AppContainer from './AppContainer';\nimport store from \"./Components/Redux/store\";\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <AppContainer/>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"graphs\":\"Graph_graphs__cAuHG\",\"titleName\":\"Graph_titleName__3vPWd\",\"hiddenTitleName\":\"Graph_hiddenTitleName__tKCoA\",\"checkBoxGroup\":\"Graph_checkBoxGroup__2rwu3\",\"iconCheckBox\":\"Graph_iconCheckBox__2CpIC\",\"headGraph\":\"Graph_headGraph__BS1eJ\",\"hiddenIDontNowHowDoItElse\":\"Graph_hiddenIDontNowHowDoItElse__2Ay3o\"};"],"sourceRoot":""}